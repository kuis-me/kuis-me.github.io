import{_ as re}from"./BFU05jqY.js";import{_ as fe}from"./BTT6KBUK.js";import{_ as ve}from"./U5lp1qOd.js";import be from"./WZwloc0T.js";import he from"./ZiLk4lra.js";import{f as Y,r as d,s as x,c as m,l as M,m as l,o as i,a as e,x as F,N as ge,t as $,F as V,q as z,h as ue,i as de,j as ce,u as me,e as pe,M as ye,b as r,v as Q,k as O,w as u,aj as P,d as g,y as W,J as _e,S as ke,a7 as we,B as $e}from"#entry";import{d as xe}from"./DoL2xymK.js";const Me={key:0,class:"position-relative pb-5 pt-3 pt-sm-3"},Se={class:"quiz-card mb-4 p-4 rounded shadow-sm position-relative"},Ce={key:0,class:"mb-3 text-center"},Fe=["src"],je={key:1,class:"mb-3 text-center"},Te=["src"],De={key:2,class:"mb-3 text-center"},Le={alt:"Gambar Pertanyaan",class:"img-fluid rounded lazy-img",style:{"max-height":"300px","object-fit":"contain"}},Ue={class:"mb-3 fw-semibold text-dark"},Ve=["innerHTML"],qe={class:"row"},Be={class:"form-check mt-3"},He=["value","checked"],Pe={class:"form-check-label d-flex align-items-center gap-2"},Ae={class:"radio-circle"},Ke=["src"],Ne=["innerHTML"],Ie=Y({__name:"pilihan_ganda",props:{show:{type:Object,required:!0}},setup(B){const q=B,S=d(!1),o=d({});function f(c){const C=Object.entries(c),T=Math.ceil(C.length/2),j=C.slice(0,T),y=C.slice(T);return{kiri:j,kanan:y}}return x(()=>q.show,async c=>{o.value=c.item,S.value=c.status},{deep:!0,immediate:!0}),(c,C)=>{const T=ge("lazy");return l(S)&&l(o)?(i(),m("div",Me,[e("div",Se,[l(o).jenis_media==="video"&&l(o).media?(i(),m("div",Ce,[e("video",{controls:"",src:l(o).video_url,class:"w-100 rounded",style:{"max-height":"400px","object-fit":"contain"}},null,8,Fe)])):l(o).jenis_media==="youtube"&&l(o).media?(i(),m("div",je,[e("iframe",{src:`https://www.youtube.com/embed/${l(o).youtube_id}`,frameborder:"0",allowfullscreen:"",class:"w-100 rounded",style:{height:"400px"},title:"YouTube video player"},null,8,Te)])):M("",!0),l(o).jenis_media==="gambar"&&l(o).media?(i(),m("div",De,[F(e("img",Le,null,512),[[T,l(o).media]])])):M("",!0),e("h5",Ue,"Pertanyaan "+$(l(o).nomor),1),e("div",{innerHTML:l(o).text},null,8,Ve),e("div",qe,[(i(!0),m(V,null,z(f(l(o).pilihan),(j,y)=>(i(),m("div",{class:"col-md-6",key:y},[(i(!0),m(V,null,z(j,([A,D],K)=>(i(),m("div",{key:A},[e("div",Be,[e("input",{class:"form-check-input custom-radio-btn",type:"radio",value:D.urut,checked:l(o).jawaban==D.urut},null,8,He),e("label",Pe,[e("span",Ae,$(D.urut.toUpperCase()),1),D.gambar_url&&l(o).jenis_pilihan==="gambar"?(i(),m("img",{key:0,src:D.gambar_url,alt:"Pilihan Gambar",style:{"max-height":"100px","border-radius":"6px"}},null,8,Ke)):(i(),m("div",{key:1,innerHTML:D.pilih},null,8,Ne))])])]))),128))]))),128))])])])):M("",!0)}}}),Oe=Object.assign(Ie,{__name:"KuisShowPilihanGanda"}),ze={key:0,class:"position-relative pb-5 pt-3 pt-sm-3"},Re={class:"quiz-card mb-4 p-4 rounded shadow-sm position-relative"},Ee={key:0,class:"mb-3 text-center"},Ge=["src"],Je={key:1,class:"mb-3 text-center"},Ye=["src"],Qe={key:2,class:"mb-3 text-center"},We={alt:"Gambar Pertanyaan",class:"img-fluid rounded lazy-img",style:{"max-height":"300px","object-fit":"contain"}},Xe={class:"mb-3 fw-semibold text-dark"},Ze=["innerHTML"],et={class:"mb-4"},tt={class:"card card-body"},at=Y({__name:"uraian",props:{show:{type:Object,required:!0}},setup(B){const q=B,S=d(!1),o=d({});return x(()=>q.show,async f=>{o.value=f.item,S.value=f.status},{deep:!0,immediate:!0}),(f,c)=>{const C=ge("lazy");return l(S)&&l(o)?(i(),m("div",ze,[e("div",Re,[l(o).jenis_media==="video"&&l(o).media?(i(),m("div",Ee,[e("video",{controls:"",src:l(o).video_url,class:"w-100 rounded",style:{"max-height":"400px","object-fit":"contain"}},null,8,Ge)])):l(o).jenis_media==="youtube"&&l(o).media?(i(),m("div",Je,[e("iframe",{src:`https://www.youtube.com/embed/${l(o).youtube_id}`,frameborder:"0",allowfullscreen:"",class:"w-100 rounded",style:{height:"400px"},title:"YouTube video player"},null,8,Ye)])):M("",!0),l(o).jenis_media==="gambar"&&l(o).media?(i(),m("div",Qe,[F(e("img",We,null,512),[[C,l(o).media]])])):M("",!0),e("h5",Xe,"Pertanyaan "+$(l(o).nomor),1),e("div",{class:"question-text mb-4",innerHTML:l(o).text},null,8,Ze),e("div",et,[c[0]||(c[0]=e("label",{class:"form-label fw-semibold"},"Jawaban",-1)),e("div",tt,[e("pre",null," "+$(l(o).jawaban),1)])])])])):M("",!0)}}}),st=Object.assign(at,{__name:"KuisShowUraian"}),ot={class:"pb-5 pt-3"},nt={class:"modal fade",id:"modalSoalPg",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},lt={class:"modal-dialog modal-lg"},it={class:"modal-content"},rt={class:"modal-body position-relative"},ut={type:"button",class:"btn right-top","data-bs-dismiss":"modal","aria-label":"Close"},dt={key:0,class:"badge rounded-pill bg-secondary me-1 mb-1 p-2"},ct=["onClick"],mt={class:"table-responsive p-2",style:{"min-height":"500px"}},pt={class:"position-relative"},_t={class:"table-soal-text"},ft=["innerHTML"],vt=["onUpdate:modelValue"],bt={class:"table-soal-text"},ht=["innerHTML"],gt={class:"table-soal-text"},yt=["innerHTML"],kt=["innerHTML"],wt=["innerHTML"],xt=["onUpdate:modelValue"],$t=["onUpdate:modelValue"],Mt=["onUpdate:modelValue"],St=["value"],Ct=["value","onChange"],Ft=["onUpdate:modelValue"],jt={class:"row d-flex flex-wrap gap-2"},Tt=["onClick"],Dt=["onClick"],Lt=["onClick"],Ut={class:"mt-3"},Vt={class:"row align-items-center justify-content-between"},qt={class:"col-auto"},Bt={class:"col-auto"},Ht=Y({__name:"pilihan_ganda",props:{modelValue:{type:[Object,Array],required:!1,default:()=>[]},loading:{type:Boolean,default:!1,required:!1},page_list:{type:[Number,String],required:!0}},emits:["jawab","data","item","update:modelValue"],setup(B,{emit:q}){const S=B,o=xe(()=>{R()},300),f=ue(),c=de();ce();const C=c?.params?.id,T=c?.params?.user;c?.query?.tab;const j=d(""),y=d([]),A=d([]);d({});const D=d(5),K=d(1),w=d(""),p=d({jenis:"pilihan_ganda",search:"",page:1,page_list:5,sort_by:"desc",sort_name:"id",kd_id:"",tingkat_kesulitan:""}),_=d({text:{nama:"Pertanyaan",value:null,matchMode:"contains"},mapel:{nama:"MaPel",value:null,matchMode:"contains"},tingkat_kesulitan:{nama:"Tingkat Kesulitan",value:null,matchMode:"equals"},kd:{nama:"KD",value:null,matchMode:"equals"},kd_id:{nama:"KD",value:null,matchMode:"equals"},status:{nama:"Status",value:null,matchMode:"equals"}}),h=d({table:!1}),{$axiosAuth:L}=me(),H=q;x(A,s=>{o(),H("jawab",s)},{deep:!0});async function R(){h.value.table=!0;const s=new FormData;for(var t in p.value)s.append(t,p.value[t]);for(var t in _.value)s.append(t,_.value[t].value);s.append("unggahan_id",C),s.append("username",T),s.append("jenis","pilihan_ganda"),c.name=="bank-soal"?w.value="/bank-soal":c.name=="kuis-home"&&(w.value="/unggahan/kuis");try{const b=(await L({method:"post",url:w.value,data:s})).data;y.value=b.data,H("data",b),h.value.table=!1}catch(v){console.error(v.response?.data||v.message),h.value.table=!1}}async function X(s){if((await ke.fire({title:"Apakah Anda yakin?",text:"Data ini tidak dapat dikembalikan setelah dihapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"})).isConfirmed){h.value.table=!0;const v=new FormData;v.append("kuis_id",s),v.append("_method","delete"),c.name=="bank-soal"?w.value="/bank-soal/destroy":w.value="/unggahan/kuis/destroy";try{const b=await L({method:"post",url:w.value,data:v});R(),h.value.table=!1}catch(b){console.error(b.response?.data||b.message),h.value.table=!1}}}const E=d([]);async function Z(){try{let s=await L({method:"post",url:"/other/group"});E.value=s?.data?.data?.kompetensi_dasar}catch(s){console.error(s.response?.data||s.message)}}function ee(s){j.value=s}function te(s,t){if(j.value!=="ganti_status")return;let v=s.target.value,b={id:t,status:v,aksi:j.value};H("item",b),b=[]}function ae(s){H("item",s)}x(()=>S.page_list,s=>{D.value=s,o()}),x(()=>S.loading,()=>{o()}),x(p.value,(s,t)=>{o()},{deep:!0}),x(_,(s,t)=>{f.set("PgDataTableFilter",s),o()},{deep:!0}),x(K,()=>{o()}),x(()=>l(f.get("import_soal")),(s,t)=>{s?.status!==t?.status&&(o(),we(()=>f.set("import_soal",!1)))},{deep:!0}),x(()=>f.get("refresh-page"),(s,t)=>{s!=t&&o()}),pe(()=>{f.get("PgDataTableFilter")&&(_.value=f.get("PgDataTableFilter")),c.query?.pg_page_list&&(p.value.page_list=c.query?.pg_page_list),o()}),ye(()=>{});function N(s){return typeof s!="string"?"":s.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}d("name"),d(!0);function se(s){p.value.sort_name=s.sortField,p.value.sort_by=s.sortOrder>0?"desc":"asc",o()}function oe(s){_.value[s].value=""}const I=d({});function ne(s){I.value.item=s,I.value.status=!0}return(s,t)=>{const v=Q("FontAwesomeIcon"),b=re,k=he,U=Q("font-awesome-icon"),G=fe,le=be,ie=ve;return i(),m("div",ot,[e("div",nt,[e("div",lt,[e("div",it,[e("div",rt,[e("button",ut,[r(v,{icon:["fa","circle-xmark"],class:"fa-2x"})]),r(Oe,{show:I.value},null,8,["show"])])])])]),e("div",null,[(i(!0),m(V,null,z(_.value,(a,n)=>(i(),m(V,{key:n},[a?.value?(i(),m("span",dt,[e("strong",null,$(a.nama),1),g(": "+$(a.value)+" ",1),e("button",{type:"button",class:"btn-close btn-close-white btn-sm ms-2",onClick:J=>oe(n)},null,8,ct)])):M("",!0)],64))),128)),e("div",mt,[e("div",pt,[h.value.table?(i(),O(b,{key:0,class:"position-center"})):M("",!0),r(le,{filters:_.value,"onUpdate:filters":t[2]||(t[2]=a=>_.value=a),filterDisplay:"menu",value:y.value.data,sortMode:"single",customSort:!0,onSort:se,responsiveLayout:"scroll",Class:"bordered-table",globalFilterFields:["tingkat_kesulitan"]},{empty:u(()=>[...t[5]||(t[5]=[e("div",{class:"text-center text-muted p-4"},"Belum ada data",-1)])]),default:u(()=>[r(k,{header:"Pertanyaan",filterField:"text",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{"min-width":"14rem"}},{body:u(({data:a})=>[e("div",_t,[e("span",{innerHTML:a.text},null,8,ft)])]),filter:u(({filterModel:a})=>[F(e("input",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,type:"text",placeholder:""},null,8,vt),[[W,a.value]])]),_:1}),r(k,{field:"jawaban",header:"Kunci Jawaban",sortable:""},{body:u(({data:a})=>[e("div",bt,[e("span",{innerHTML:a.jawaban},null,8,ht)])]),_:1}),r(k,{field:"nilai",header:"Skor",sortable:"",style:{"min-width":"6rem"}},{body:u(({data:a})=>[e("div",gt,[e("span",{innerHTML:a.nilai_salah},null,8,yt),t[6]||(t[6]=g(" - ",-1)),e("span",{innerHTML:a.nilai},null,8,kt)])]),_:1}),l(c).name!=="kuis-home"?(i(),m(V,{key:0},[r(k,{header:"MaPel",filterField:"mapel",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"}},{body:u(({data:a})=>[e("span",{innerHTML:a.mapel},null,8,wt)]),filter:u(({filterModel:a})=>[F(e("input",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,type:"text",placeholder:""},null,8,xt),[[W,a.value]])]),_:1}),r(k,{header:"Kesulitan",filterField:"tingkat_kesulitan",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{height:"30px!important"}},{body:u(({data:a})=>[g($(N(a.tingkat_kesulitan)),1)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n},[...t[7]||(t[7]=[e("option",null,null,-1),e("option",{value:"rendah"},"Rendah",-1),e("option",{value:"sedang"},"Sedang",-1),e("option",{value:"tinggi"},"Tinggi",-1)])],8,$t),[[P,a.value]])]),_:1}),r(k,{header:"Indexs Kesulitan",filterField:"tingkat_kesulitan",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{height:"30px!important"}},{body:u(({data:a})=>[g($(N(a.tingkat_kesulitan_index)),1)]),_:1}),r(k,{header:"KD",filterField:"kd_id",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"}},{body:u(({data:a})=>[g($(N(a.kompetensi_dasar)),1)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,onClick:t[0]||(t[0]=n=>Z())},[t[8]||(t[8]=e("option",null,null,-1)),(i(!0),m(V,null,z(E.value,(n,J)=>(i(),m("option",{key:J,value:n.id},$(n.text),9,St))),128))],8,Mt),[[P,a.value]])]),_:1}),r(k,{header:"Status",filterField:"status",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{width:"120px"}},{body:u(({data:a})=>[e("select",{value:a.status,onClick:t[1]||(t[1]=n=>ee("ganti_status")),onChange:n=>te(n,a.id),class:"form-select form-select-sm"},[...t[9]||(t[9]=[e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"draf"},"Draf",-1),e("option",{value:"non-aktif"},"Non-aktif",-1)])],40,Ct)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n},[...t[10]||(t[10]=[e("option",null,null,-1),e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"draf"},"Draf",-1),e("option",{value:"non-aktif"},"Non-aktif",-1)])],8,Ft),[[P,a.value]])]),_:1})],64)):M("",!0),r(k,{header:"Action",style:{width:"180px"}},{body:u(({data:a})=>[e("div",jt,[e("button",{type:"button",class:"col btn btn-sm btn-outline-secondary d-flex align-items-center justify-content-center","data-bs-toggle":"modal","data-bs-target":"#modalSoalPg",onClick:n=>ne(a)},[r(U,{icon:["fas","eye"],class:"fa-lg"}),t[11]||(t[11]=g(" Lihat ",-1))],8,Tt),l(c)?.name==="bank-soal"?(i(),m("button",{key:0,type:"button",class:"col btn btn-sm btn-outline-info d-flex align-items-center justify-content-center","data-bs-toggle":"modal","data-bs-target":"#detailBankSoal",onClick:n=>ae(a)},[r(U,{icon:["fas","info-circle"],class:"fa-lg"}),t[12]||(t[12]=g(" Detail ",-1))],8,Dt)):M("",!0),l(c)?.name==="bank-soal"?(i(),O(G,{key:1,to:{name:"bank-soal-update",query:{tipe:a?.jenis,id:a?.id,pg_page_list:p.value?.page_list}},class:"col btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center"},{default:u(()=>[r(U,{icon:["fas","pen-to-square"],class:"fa-lg"}),t[13]||(t[13]=g(" Edit ",-1))]),_:1},8,["to"])):(i(),O(G,{key:2,to:{name:"kuis-update",params:{id:l(C)},query:{tipe:a?.jenis,id:a?.id,pg_page_list:p.value?.page_list}},class:"col btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center"},{default:u(()=>[r(U,{icon:["fas","pen-to-square"],class:"fa-lg"}),t[14]||(t[14]=g(" Edit ",-1))]),_:1},8,["to"])),e("button",{type:"button",class:"col btn btn-sm btn-outline-danger d-flex align-items-center justify-content-center",onClick:_e(n=>X(a?.id),["prevent"])},[r(U,{icon:["fas","trash"],class:"fa-lg"}),t[15]||(t[15]=g(" Hapus ",-1))],8,Lt)])]),_:1})]),_:1},8,["filters","value"])])])]),e("div",Ut,[e("div",Vt,[e("div",qt,[F(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>p.value.page_list=a),class:"form-select form-select-sm w-auto"},[...t[16]||(t[16]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],512),[[P,p.value.page_list]])]),e("div",Bt,[r(ie,{modelValue:p.value.page,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value.page=a),"total-items":y.value.total||1,"items-per-page":y.value.per_page||1},null,8,["modelValue","total-items","items-per-page"])])])])])}}}),Da=Object.assign(Ht,{__name:"KuisSoalListPilihanGanda"}),Pt={class:"pb-5 pt-3"},At={class:"modal fade",id:"modalSoalUr",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Kt={class:"modal-dialog modal-lg"},Nt={class:"modal-content"},It={class:"modal-body position-relative"},Ot={type:"button",class:"btn right-top","data-bs-dismiss":"modal","aria-label":"Close"},zt={key:0,class:"badge rounded-pill bg-secondary me-1 mb-1 p-2"},Rt=["onClick"],Et={class:"table-responsive p-2",style:{"min-height":"500px"}},Gt={class:"position-relative"},Jt={class:"table-soal-text"},Yt=["innerHTML"],Qt=["onUpdate:modelValue"],Wt={class:"table-soal-text"},Xt=["innerHTML"],Zt={class:"table-soal-text"},ea=["innerHTML"],ta=["innerHTML"],aa=["innerHTML"],sa=["onUpdate:modelValue"],oa=["onUpdate:modelValue"],na=["onUpdate:modelValue"],la=["value"],ia=["value","onChange"],ra=["onUpdate:modelValue"],ua={class:"row d-flex flex-wrap gap-2"},da=["onClick"],ca=["onClick"],ma=["onClick"],pa={class:"mt-3"},_a={class:"row align-items-center justify-content-between"},fa={class:"col-auto"},va={class:"col-auto"},ba=Y({__name:"uraian",props:{modelValue:{type:[Object,Array],required:!1,default:()=>[]},loading:{type:Boolean,default:!1,required:!1},page_list:{type:[Number,String],required:!0}},emits:["jawab","item","data"],setup(B,{emit:q}){const S=B,o=xe(()=>{R()},300),f=ue(),c=de();ce();const C=c?.params?.id,T=c?.params?.user;c?.query?.tab;const j=d(""),y=d([]),A=d([]),D=d(5),K=d(1),w=d(""),p=d({table:!1}),_=d({jenis:"pilihan_ganda",search:"",page:1,page_list:5,sort_by:"desc",sort_name:"id",kd_id:"",tingkat_kesulitan:""}),h=d({text:{value:null,matchMode:"contains"},mapel:{value:null,matchMode:"contains"},tingkat_kesulitan:{value:null,matchMode:"equals"},kd:{value:null,matchMode:"equals"},kd_id:{value:null,matchMode:"equals"},status:{value:null,matchMode:"equals"}}),L=q;x(A,s=>{L("jawab",s)},{deep:!0});const{$axiosAuth:H}=me();async function R(){p.value.table=!0;const s=new FormData;for(var t in _.value)s.append(t,_.value[t]);for(var t in h.value)s.append(t,h.value[t].value);s.append("unggahan_id",C),s.append("username",T),s.append("jenis","uraian"),c.name=="bank-soal"?w.value="/bank-soal":c.name=="kuis-home"&&(w.value="/unggahan/kuis");try{const b=(await H({method:"post",url:w.value,data:s})).data;y.value=b?.data,L("data",b),p.value.table=!1}catch(v){console.error(v.response?.data||v.message),p.value.table=!1}}async function X(s){if((await ke.fire({title:"Apakah Anda yakin?",text:"Data ini tidak dapat dikembalikan setelah dihapus.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"})).isConfirmed){p.value.table=!0;const v=new FormData;v.append("kuis_id",s),v.append("_method","delete"),c.name=="bank-soal"?w.value="/bank-soal/destroy":w.value="/unggahan/kuis/destroy";try{const b=await H({method:"post",url:w.value,data:v});R(),p.value.table=!1}catch(b){console.error(b.response?.data||b.message),p.value.table=!1}}}const E=d([]);async function Z(){try{let s=await H({method:"post",url:"/other/group"});E.value=s?.data?.data?.kompetensi_dasar}catch(s){console.error(s.response?.data||s.message)}}function ee(s){j.value=s}async function te(s,t){if(j.value!=="ganti_status")return;let v=s.target.value,b={id:t,status:v,aksi:j.value};L("item",b),b={}}function ae(s){L("item",s)}x(()=>l(f.get("import_soal")),(s,t)=>{s?.status!==t?.status&&(o(),we(()=>f.set("import_soal",!1)))},{deep:!0}),x(()=>S.page_list,()=>{D.value=S.page_list,o()}),x(K,()=>{o()}),x(()=>S.loading,()=>{o()}),x(_.value,()=>{o()},{deep:!0}),x(h,(s,t)=>{f.set("UrDataTableFilter",s),o()},{deep:!0}),x(()=>f.get("refresh-page"),(s,t)=>{s!=t&&o()}),pe(()=>{f.get("UrDataTableFilter")&&(h.value=f.get("UrDataTableFilter")),c.query?.ur_page_list&&(_.value.page_list=c.query?.ur_page_list),o()}),ye(()=>{});function N(s){return typeof s!="string"?"":s.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}d("name"),d(!0);function se(s){_.value.sort_name=s.sortField,_.value.sort_by=s.sortOrder>0?"desc":"asc",o()}function oe(s){h.value[s].value=""}const I=d({});function ne(s){I.value.item=s,I.value.status=!0}return(s,t)=>{const v=Q("FontAwesomeIcon"),b=re,k=he,U=Q("font-awesome-icon"),G=fe,le=be,ie=ve;return i(),m("div",Pt,[e("div",At,[e("div",Kt,[e("div",Nt,[e("div",It,[e("button",Ot,[r(v,{icon:["fa","circle-xmark"],class:"fa-2x"})]),r(l(st),{show:I.value},null,8,["show"])])])])]),e("div",null,[(i(!0),m(V,null,z(h.value,(a,n)=>(i(),m(V,{key:n},[a?.value?(i(),m("span",zt,[e("strong",null,$(a.nama),1),g(": "+$(a.value)+" ",1),e("button",{type:"button",class:"btn-close btn-close-white btn-sm ms-2",onClick:J=>oe(n)},null,8,Rt)])):M("",!0)],64))),128)),e("div",Et,[e("div",Gt,[p.value.table?(i(),O(b,{key:0,class:"position-center"})):M("",!0),r(le,{filters:h.value,"onUpdate:filters":t[2]||(t[2]=a=>h.value=a),filterDisplay:"menu",value:y.value.data,sortMode:"single",customSort:!0,onSort:se,responsiveLayout:"scroll",Class:"bordered-table ",globalFilterFields:["tingkat_kesulitan"]},{empty:u(()=>[...t[5]||(t[5]=[e("div",{class:"text-center text-muted p-4"},"Belum ada data",-1)])]),default:u(()=>[r(k,{header:"Pertanyaan",filterField:"text",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{"min-width":"14rem"}},{body:u(({data:a})=>[e("div",Jt,[e("span",{innerHTML:a.text},null,8,Yt)])]),filter:u(({filterModel:a})=>[F(e("input",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,type:"text",placeholder:""},null,8,Qt),[[W,a.value]])]),_:1}),r(k,{field:"jawaban",header:"Kunci Jawaban",sortable:""},{body:u(({data:a})=>[e("div",Wt,[e("span",{innerHTML:a.jawaban},null,8,Xt)])]),_:1}),r(k,{field:"nilai",header:"Skor",sortable:"",style:{"min-width":"6rem"}},{body:u(({data:a})=>[e("div",Zt,[e("span",{innerHTML:a.nilai_salah},null,8,ea),t[6]||(t[6]=g(" - ",-1)),e("span",{innerHTML:a.nilai},null,8,ta)])]),_:1}),l(c).name!=="kuis-home"?(i(),m(V,{key:0},[r(k,{header:"MaPel",filterField:"mapel",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"}},{body:u(({data:a})=>[e("span",{innerHTML:a.mapel},null,8,aa)]),filter:u(({filterModel:a})=>[F(e("input",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,type:"text",placeholder:""},null,8,sa),[[W,a.value]])]),_:1}),r(k,{header:"Kesulitan",filterField:"tingkat_kesulitan",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{height:"30px!important"}},{body:u(({data:a})=>[g($(N(a.tingkat_kesulitan)),1)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n},[...t[7]||(t[7]=[e("option",null,null,-1),e("option",{value:"rendah"},"Rendah",-1),e("option",{value:"sedang"},"Sedang",-1),e("option",{value:"tinggi"},"Tinggi",-1)])],8,oa),[[P,a.value]])]),_:1}),r(k,{header:"Indexs Kesulitan",filterField:"tingkat_kesulitan",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{height:"30px!important"}},{body:u(({data:a})=>[g($(N(a.tingkat_kesulitan_index)),1)]),_:1}),r(k,{header:"KD",filterField:"kd_id",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"}},{body:u(({data:a})=>[g($(N(a.kd)),1)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n,onClick:t[0]||(t[0]=n=>Z())},[t[8]||(t[8]=e("option",null,null,-1)),(i(!0),m(V,null,z(E.value,(n,J)=>(i(),m("option",{key:J,value:n.id},$(n.text),9,la))),128))],8,na),[[P,a.value]])]),_:1}),r(k,{header:"Status",filterField:"status",showFilterMatchModes:!1,filterMenuStyle:{width:"14rem"},style:{width:"120px"}},{body:u(({data:a})=>[e("select",{value:a.status,onClick:t[1]||(t[1]=n=>ee("ganti_status")),onChange:n=>te(n,a.id),class:"form-select form-select-sm"},[...t[9]||(t[9]=[e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"draf"},"Draf",-1),e("option",{value:"non-aktif"},"Non-aktif",-1)])],40,ia)]),filter:u(({filterModel:a})=>[F(e("select",{class:"form-control form-control-sm","onUpdate:modelValue":n=>a.value=n},[...t[10]||(t[10]=[e("option",null,null,-1),e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"draf"},"Draf",-1),e("option",{value:"non-aktif"},"Non-aktif",-1)])],8,ra),[[P,a.value]])]),_:1})],64)):M("",!0),r(k,{header:"Action",style:{width:"180px"}},{body:u(({data:a})=>[e("div",ua,[e("button",{type:"button",class:"col btn btn-sm btn-outline-secondary d-flex align-items-center justify-content-center","data-bs-toggle":"modal","data-bs-target":"#modalSoalUr",onClick:n=>ne(a)},[r(U,{icon:["fas","eye"],class:"fa-lg"}),t[11]||(t[11]=g(" Lihat ",-1))],8,da),l(c)?.name==="bank-soal"?(i(),m("button",{key:0,type:"button",class:"col btn btn-sm btn-outline-info d-flex align-items-center justify-content-center","data-bs-toggle":"modal","data-bs-target":"#detailBankSoal",onClick:n=>ae(a)},[r(U,{icon:["fas","info-circle"],class:"fa-lg"}),t[12]||(t[12]=g(" Detail ",-1))],8,ca)):M("",!0),l(c)?.name==="bank-soal"?(i(),O(G,{key:1,to:{name:"bank-soal-update",query:{tipe:a?.jenis,id:a?.id,ur_page_list:_.value?.page_list}},class:"col btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center"},{default:u(()=>[r(U,{icon:["fas","pen-to-square"],class:"fa-lg"}),t[13]||(t[13]=g(" Edit ",-1))]),_:1},8,["to"])):(i(),O(G,{key:2,to:{name:"kuis-update",params:{id:l(C)},query:{tipe:a?.jenis,id:a?.id,ur_page_list:_.value?.page_list}},class:"col btn btn-sm btn-outline-primary d-flex align-items-center justify-content-center"},{default:u(()=>[r(U,{icon:["fas","pen-to-square"],class:"fa-lg"}),t[14]||(t[14]=g(" Edit ",-1))]),_:1},8,["to"])),e("button",{type:"button",class:"col btn btn-sm btn-outline-danger d-flex align-items-center justify-content-center",onClick:_e(n=>X(a?.id),["prevent"])},[r(U,{icon:["fas","trash"],class:"fa-lg"}),t[15]||(t[15]=g(" Hapus ",-1))],8,ma)])]),_:1})]),_:1},8,["filters","value"])])])]),e("div",pa,[e("div",_a,[e("div",fa,[F(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>_.value.page_list=a),class:"form-select form-select-sm",style:{"min-width":"80px"}},[...t[16]||(t[16]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)])],512),[[P,_.value.page_list]])]),e("div",va,[r(ie,{modelValue:_.value.page,"onUpdate:modelValue":t[4]||(t[4]=a=>_.value.page=a),"total-items":y.value.total||1,"items-per-page":y.value.per_page||1},null,8,["modelValue","total-items","items-per-page"])])])])])}}}),La=Object.assign(ba,{__name:"KuisSoalListUraian"}),ha={class:"position-relative"},ga=["textContent"],ya={class:"text-end text-primary"},ka=["href"],wa={class:"mb-3"},xa=Y({__name:"BankSoalImport",setup(B){const q=ue(),S=de();ce();const o=S.params.id,f=d(!1),C=$e().public.baseURL2,T=d(""),{$axiosAuth:j}=me(),y=d({}),A=d(""),D=w=>{A.value=w.target.files[0],y.value={}};async function K(){f.value=!0;const w=document.getElementById("file").files[0];let p=new FormData;p.append("berkas",w),p.append("unggahan_id",o),S.name=="bank-soal"?T.value="/excel/import/bank-soal":T.value="/excel/import/quiz";try{const h=(await j({method:"post",url:T.value,data:p})).data;f.value=!1,y.value=h;const L=document.getElementById("file");L&&(L.value=null),q.set("import_soal",{status:!0})}catch(_){console.error(_.response?.data||_.message),f.value=!1}pe(async()=>{y.value.message=""})}return(w,p)=>{const _=re;return i(),m("div",ha,[y.value.message?(i(),m("div",{key:0,textContent:$(y.value.message),class:"alert alert-success",role:"alert"},null,8,ga)):M("",!0),e("form",{onSubmit:p[1]||(p[1]=_e(h=>K(),["prevent"]))},[e("div",ya,[e("a",{href:`${l(C)}/file/template-import-soal`,class:"text-primary"},"Download Template",8,ka)]),e("div",wa,[e("input",{type:"file",id:"file",onChange:p[0]||(p[0]=h=>D(h)),class:"form-control form-control-sm"},null,32)]),e("div",null,[e("button",{type:"submit",class:"btn btn-secondary",onClick:K},"import")])],32),f.value?(i(),O(_,{key:1,class:"position-center"})):M("",!0)])}}}),Ua=Object.assign(xa,{__name:"BankSoalImport"});export{Oe as P,Da as S,Ua as _,La as a,st as u};
