import{_ as N}from"./BFU05jqY.js";import{v as h,r as _,h as C,u as B,c as u,o as i,a as s,l as d,m as a,t as g,k as D,z as S,b as v,w,d as y,A as V,B as A,C as L}from"#entry";import{u as R}from"./CUA_6ykz.js";const $={class:"row justify-content-center"},j={class:"col-sm-12 container-fluid"},E={class:"card card-body form-400-center"},M={key:0,class:"text-danger"},P={key:1,class:"text-success"},T={class:"position-relative"},q={class:"mb-3"},z={class:"mt-3 d-flex justify-content-between"},J={__name:"forgot_password",setup(F){const b=h().public.AppName;R({title:"Lupa Sandi - "+b});const n=_({}),p=C(),m=p.get("register");p.clear(),A();const r={email:""},l=_(""),k=B().$axios;async function x(){n.value.login=!0;const c=new FormData;for(var e in r)c.append(e,r[e]);try{const o=(await k({method:"post",url:"/forgot-password",data:c})).data;console.log(o),l.value=o.message,n.value.login=!1}catch(t){console.error(t.response?.data||t.message),n.value.login=!1}}return(c,e)=>{const t=N,o=V("router-link");return i(),u("div",$,[s("div",j,[s("div",E,[e[4]||(e[4]=s("h2",null,"Lupa Password",-1)),a(l)?(i(),u("p",M,g(a(l)),1)):d("",!0),a(m)?(i(),u("p",P,g(a(m)),1)):d("",!0),s("form",T,[a(n).login?(i(),D(t,{key:0,class:"position-center"})):d("",!0),s("div",q,[S(s("input",{type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=f=>r.email=f),placeholder:"Email",required:""},null,512),[[L,r.email]])]),s("button",{type:"button",onClick:e[1]||(e[1]=f=>x()),class:"btn btn-primary w-100"}," Submit "),s("div",z,[v(o,{to:{name:"login"}},{default:w(()=>[...e[2]||(e[2]=[y("Login?",-1)])]),_:1}),v(o,{to:{name:"register"}},{default:w(()=>[...e[3]||(e[3]=[y("Register",-1)])]),_:1})])])])])])}}};export{J as default};
