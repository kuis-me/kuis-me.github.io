import{_ as S}from"./BFU05jqY.js";import{_ as V}from"./DBDT5h3r.js";import N from"./WZwloc0T.js";import T from"./ZiLk4lra.js";import{f as B,h as H,i as $,j,r as l,u as z,s as P,e as R,a8 as U,c,o as n,a as t,x as h,y as A,k as b,l as v,b as m,w as p,t as f,N as I}from"#entry";import{u as E}from"./CUA_6ykz.js";import{d as F}from"./DoL2xymK.js";/* empty css        */import"./DlAUqK2U.js";import"./DZc5BzD_.js";import"./BWvFuTba.js";import"./C_eBRcTf.js";import"./DmzSdYQA.js";import"./CPlO9DUf.js";import"./ecGWoZ4Q.js";import"./BHWX8u6U.js";import"./B7LfFs11.js";import"./jc0MLXVe.js";import"./B4iXuu46.js";import"./CLs7nh7g.js";import"./DRsPoi7a.js";import"./Db4K0la1.js";import"./DWlM1jn-.js";import"./q5qRWjfX.js";import"./D44Yf3QM.js";import"./fs6baYA6.js";import"./CWybxcEt.js";import"./Bug4FVMO.js";import"./BTRELKMG.js";import"./CAzzG9wP.js";import"./ZhWAdK_X.js";import"./kCNMqWzW.js";import"./TrWR14PH.js";import"./BRlVjEi6.js";import"./BJ_RKzcj.js";import"./0BfNHR4B.js";import"./TFTh-Rt9.js";import"./Bfhb82ua.js";import"./BbPWr3wD.js";import"./kvmXFRvq.js";import"./BdZUV7Ng.js";import"./Dv2PrIyq.js";import"./Cvm_7BmW.js";import"./DY0j9i7W.js";import"./tK1yKuoH.js";import"./UGo1Dn0E.js";import"./Bkx-VIdb.js";import"./M5H1MJdm.js";const K={class:"pb-5 pt-3 pt-sm-3"},q={class:"position-relative"},G={class:"row justify-content-between mb-3"},J={class:"col col-sm-4"},O={class:"search-bar-sm mb-3"},Q={style:{"min-height":"500px !important"}},W=["innerHTML"],X=["onClick"],Y={class:"col-auto"},Z={key:0,class:"profil-img avatar-50 lazy-img"},tt={key:1,class:"avatar-50 profile-img"},at=["innerHTML"],ot={class:"mt-2"},et={class:"row justify-content-between"},st={class:"col-auto"},it={class:"col-auto"},lt={class:"modal fade",id:"PelanggaranModal",tabindex:"-1"},nt={class:"modal-dialog modal-lg"},rt={class:"modal-content"},mt={class:"modal-body position-relative",style:{"min-height":"300px"}},pt=["src"],na=B({__name:"laporan_masalah",setup(dt){E({title:"laporan masalah - Kuis"});const g=F(()=>{x()},1e3);H();const y=$();j(),l({});const w=y?.params?.id,d=l({pelanggaran:!1,show:!1,catatan:!1,nilai:!1}),e=l({}),s=l({});l({});const u=l({}),{$axiosAuth:k}=z();async function x(){d.value.show=!0;const i=new FormData;i.append("page",s.value.page),i.append("unggahan_id",w);try{const r=(await k({method:"post",url:"/unggahan/kuis/koreksi/laporan-masalah",data:i})).data;console.log(r),e.value=r?.data}catch(a){console.error(a.response?.data||a.message)}d.value.show=!1}P(s,()=>{g()},{deep:!0});function M(i){u.value.image=i}return R(()=>{g()}),U(()=>{}),(i,a)=>{const r=S,_=T,C=N,D=V,L=I("lazy");return n(),c("div",null,[a[6]||(a[6]=t("h2",{class:"pb-2 mb-4"}," Laporan Masalah ",-1)),t("div",K,[t("div",q,[t("div",G,[t("div",J,[t("div",O,[h(t("input",{type:"text",placeholder:"cari","onUpdate:modelValue":a[0]||(a[0]=o=>s.value.search=o),style:{"max-width":"300px"}},null,512),[[A,s.value.search]])])]),a[2]||(a[2]=t("div",{class:"col-auto"},null,-1))]),t("div",Q,[d.value.show?(n(),b(r,{key:0,class:"position-center"})):v("",!0),m(C,{value:e.value.data,responsiveLayout:"scroll",class:"bordered-table",layout:"fixed"},{empty:p(()=>[...a[3]||(a[3]=[t("div",{class:"text-center text-muted p-4"},"Belum ada data",-1)])]),default:p(()=>[m(_,{field:"nama",header:"Nama",sortable:""},{body:p(({data:o})=>[t("span",{innerHTML:o?.profil?.nama_lengkap},null,8,W)]),_:1}),m(_,{field:"image",header:"Image"},{body:p(({data:o})=>[t("div",{class:"row align-items-start",onClick:ct=>M(o.image),"data-bs-toggle":"modal","data-bs-target":"#PelanggaranModal"},[t("div",Y,[o.image?h((n(),c("img",Z,null,512)),[[L,o.image]]):(n(),c("div",tt))])],8,X)]),_:1}),m(_,{field:"masalah",header:"Masalah",sortable:""},{body:p(({data:o})=>[t("span",{innerHTML:o.masalah},null,8,at)]),_:1})]),_:1},8,["value"])]),t("div",ot,[t("div",et,[t("div",st,f(e.value.to)+" dari "+f(e.value.total),1),t("div",it,[m(D,{modelValue:s.value.page,"onUpdate:modelValue":a[1]||(a[1]=o=>s.value.page=o),"total-items":e.value.total?e.value.total:1,"items-per-page":e.value.per_page?e.value.per_page:1},null,8,["modelValue","total-items","items-per-page"])])])])])]),t("div",lt,[t("div",nt,[t("div",rt,[a[4]||(a[4]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Screenshoot"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",mt,[u.value.image?(n(),c("img",{key:0,src:u.value.image,style:{width:"100%"}},null,8,pt)):v("",!0),d.value.pelanggaran?(n(),b(r,{key:1,class:"position-center"})):v("",!0)]),a[5]||(a[5]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}}});export{na as default};
