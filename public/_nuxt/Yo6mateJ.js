import{_ as U}from"./Dg1O1juR.js";import{_ as S}from"./DuWT4fIn.js";import{_ as F}from"./BwT3rymJ.js";import{_ as K}from"./CUThqa1z.js";import{_ as R}from"./CH1sRUJ3.js";import{f as $,i as j,u as A,h as G,j as T,r as u,s as p,e as q,c as l,o as i,a as t,b as o,v as E,l as _,L as w,m as f,w as d,d as L,x as X,K as H,z as I,t as v,k as J}from"#entry";import"./C31_JZqf.js";import"./4vIJTBId.js";import{u as O}from"./C-MlBdbB.js";import{d as Q}from"./DoL2xymK.js";const W={key:0,class:"d-flex align-items-center profile-section text-end"},Y={class:"d-flex align-items-center profile-section text-end me-3"},Z={class:"btn","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},tt={class:"btn-group position-relative me-3"},et={"data-refresh":"",type:"button",class:"btn p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},ot={key:0,class:"position-absolute top-0 start-100 translate-middle rounded-circle bg-danger",style:{width:"10px",height:"10px"}},st={class:"dropdown-menu","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid rgba(0, 0, 0, 0.08)","box-shadow":`0 12px 28px 0 rgba(0, 0, 0, 0.08), 
                        0 2px 4px 0 rgba(0, 0, 0, 0.04)`,"background-clip":"padding-box","z-index":"1000",position:"absolute",left:"50%",transform:"translateX(-50%)","margin-top":"8px"}},at={class:"p-3"},nt={key:0},it={class:"text-center"},lt={class:"btn-group position-relative me-3"},rt={class:"btn d-flex align-items-center text-decoration-none","data-bs-toggle":"dropdown","aria-expanded":"false"},dt={key:0,alt:"Foto Profil",class:"avatar-40 profile-img rounded-circle lazy-img"},ct={class:"d-none d-md-block ms-2 profile-name"},ut={class:"dropdown-menu dropdown-menu-end mt-2","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid #e9ecef","box-shadow":"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},mt={class:"p-3"},pt={class:"flex-shrink-0 me-3"},_t={class:"avatar avatar-md bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"},ft={class:"text-muted"},vt={class:"menu-list"},xt={class:"menu-icon"},gt={class:"menu-arrow"},bt={class:"menu-icon"},ht={class:"menu-arrow"},wt={class:"menu-icon"},kt={class:"menu-arrow"},yt={key:1,class:"d-flex align-items-center profile-section text-end"},Rt=$({__name:"akun",setup(Vt){const x=j(),{$Auth:Nt}=A(),g=G(),k=T(),{isMobile:y}=O(),V=u(!1);p(y,(a,e)=>{V.value=a});const c=u({refresh:!1}),b=u([]),n=u({}),h=Q(async()=>{n.value=await g.get("profil")},300);async function N(a){b.value=a?a.data:[]}function C(a,e=10){if(!a)return"";const s=a.trim().split(" ")[0];return s.length>e?s.substring(0,e)+"...":s}return p(()=>f(g.get("profil")),(a,e)=>{n.value=a},{deep:!0}),p(()=>k.currentRoute.value.query._r,a=>{a&&h()}),q(async()=>{h()}),(a,e)=>{const s=E("font-awesome-icon"),z=U,P=S,r=F,B=K,D=R,M=H("lazy");return i(),l("div",null,[n.value?.data?(i(),l("div",W,[t("div",Y,[t("button",Z,[o(s,{icon:["fas","bars"],class:"fa-2x text-purple-pink"})])]),t("div",tt,[t("button",et,[o(s,{icon:["fas","bell"],class:"text-purple-pink fa-2x"}),b.value.length>0?(i(),l("div",ot)):_("",!0)]),t("div",st,[t("div",{onClick:e[2]||(e[2]=w(()=>{},["stop"]))},[t("div",at,[f(x).name!="home-notifikasi"?(i(),l("div",nt,[t("div",null,[o(z,{modelValue:c.value.refresh,"onUpdate:modelValue":e[0]||(e[0]=m=>c.value.refresh=m),onData:N},null,8,["modelValue"])]),t("div",null,[o(P,{modelValue:c.value.refresh,"onUpdate:modelValue":e[1]||(e[1]=m=>c.value.refresh=m)},null,8,["modelValue"])]),t("div",it,[o(r,{to:{name:"home-notifikasi"},class:"text-primary"},{default:d(()=>[...e[4]||(e[4]=[L("Tampilkan semua ",-1)])]),_:1})])])):_("",!0)])])])]),t("div",lt,[t("button",rt,[n.value?.data.image_show?X((i(),l("img",dt,null,512)),[[M,n.value?.data.image_show]]):(i(),l("div",{key:1,class:"avatar-40 profile-img",style:I({backgroundColor:n.value?.data?.color})},v(n.value?.data?.nama_inisial),5)),t("span",ct,v(C(n.value?.data.nama_lengkap)),1)]),t("div",ut,[t("div",{onClick:e[3]||(e[3]=w(()=>{},["stop"]))},[t("div",mt,[o(r,{to:{name:"home-profil"},class:"d-flex align-items-center mb-4 pb-3 border-bottom",style:{"border-color":"#f1f3f5 !important"}},{default:d(()=>[t("div",pt,[t("div",_t,[o(s,{icon:["fas","user"]})])]),t("div",null,[e[5]||(e[5]=t("h6",{class:"mb-0 fw-semibold"},"User Profile",-1)),t("small",ft,v(n.value?.data?.email),1)])]),_:1}),t("div",vt,[o(B),o(r,{to:{name:"ganti_password"},class:"menu-item"},{default:d(()=>[t("div",xt,[o(s,{icon:["fas","lock"]})]),e[6]||(e[6]=t("div",{class:"menu-text"},"Ganti Password",-1)),t("div",gt,[o(s,{icon:["fas","chevron-right"]})])]),_:1}),o(D),e[9]||(e[9]=t("div",{class:"border-bottom my-1",style:{"border-color":"#f1f3f5 !important"}},null,-1)),o(r,{to:{name:"logout"},class:"menu-item text-danger"},{default:d(()=>[t("div",bt,[o(s,{icon:["fas","power-off"]})]),e[7]||(e[7]=t("div",{class:"menu-text"},"Keluar",-1)),t("div",ht,[o(s,{icon:["fas","chevron-right"]})])]),_:1}),o(r,{to:{name:"logout-all"},class:"menu-item text-danger"},{default:d(()=>[t("div",wt,[o(s,{icon:["fas","power-off"]})]),e[8]||(e[8]=t("div",{class:"menu-text"},"Keluar Semua Perangkat",-1)),t("div",kt,[o(s,{icon:["fas","chevron-right"]})])]),_:1})])])])])])])):(i(),l("div",yt,[f(x).name!=="login"?(i(),J(r,{key:0,to:"/login",class:"btn-outline-ungu-pink d-flex align-items-center gap-2 mt-2"},{default:d(()=>[...e[10]||(e[10]=[t("strong",null,"Masuk",-1)])]),_:1})):_("",!0)]))])}}});export{Rt as _};
