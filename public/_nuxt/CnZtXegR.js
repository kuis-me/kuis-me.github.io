import{_ as J}from"./CwQB-XB4.js";import{_ as O}from"./BFU05jqY.js";import{f as H,j as Q,i as W,u as X,r,S as C,G as Y,e as Z,M as tt,c as x,o as u,a,l as c,b as p,d as i,A as at,I as y,t as S,w as U,J as $,k as _,z as m,C as g,ak as E,F as st,q as et,p as ot,n as lt}from"#entry";import{S as nt,a as it,_ as dt}from"./-yqpkELJ.js";import{u as rt}from"./CUA_6ykz.js";import{d as ut}from"./DoL2xymK.js";import"./U5lp1qOd.js";/* empty css        */import"./DlAUqK2U.js";import"./C3z-ywvo.js";import"./CyOk-nPg.js";import"./CiWoB02X.js";import"./8bvVrqmo.js";import"./B3sYwAEL.js";import"./EGTR48JM.js";import"./DEyYGdNQ.js";import"./BJGrA6Jd.js";import"./CpUMhc7e.js";import"./jc0MLXVe.js";import"./BYFRBfKH.js";import"./CLs7nh7g.js";import"./BsL1qDrr.js";import"./CWLiJ0se.js";import"./Z8xctkZt.js";import"./B38jw_rB.js";import"./se1TuXrA.js";import"./fEXnvkqj.js";import"./BfI910sS.js";import"./BoVvw8Hm.js";import"./DPMQvY-A.js";import"./B4itNNXA.js";import"./ZhWAdK_X.js";import"./BVWaKjMr.js";import"./DOzupMSm.js";import"./pNQ8ID25.js";import"./CRFPveH9.js";import"./BdAeE4wo.js";import"./D29EZvgL.js";import"./DhHsBxdy.js";import"./CIk3Bab-.js";import"./B2f3LX6i.js";import"./CpAjJcKS.js";import"./LyQxZvra.js";import"./BW1qPPXF.js";import"./CPZCcta-.js";import"./CmIUM5n7.js";import"./GvVV1ICA.js";import"./Dk9qCNTH.js";import"./OzCEp4nL.js";import"./D9wmH--q.js";import"./BwiOc0YR.js";const pt={class:"position-relative"},mt={class:"d-flex justify-content-between align-items-center mb-4"},bt={type:"button",class:"btn btn-outline-success d-flex align-items-center gap-2 rounded-pill","data-bs-toggle":"modal","data-bs-target":"#modalImportBankSoal"},vt={class:"nav nav-tabs position-relative",id:"nav-tab",role:"tablist"},ct={class:"badge bg-secondary ms-2"},gt={class:"badge bg-secondary ms-2"},ft={class:"tab-content py-3",id:"nav-tabContent"},kt={class:"text-end mb-2"},xt={class:"btn-group position-relative me-3"},yt={class:"dropdown-menu dropdown-menu-end ms-1 mt-2","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid #e9ecef","box-shadow":"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},_t={class:"position-relative"},wt={class:"card-body p-4"},ht={class:"mt-3"},Ct={class:"shadow-sm rounded-4"},St={class:"text-end mb-2"},Ut={class:"btn-group position-relative ms-1 me-3"},Dt={class:"dropdown-menu dropdown-menu-end mt-2","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid #e9ecef","box-shadow":"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},Mt={class:"position-relative"},Bt={class:"card-body p-4"},Tt={class:"mt-3"},jt={class:"shadow-sm rounded-4"},It={class:"modal fade",id:"detailBankSoal",tabindex:"-1"},Vt={class:"modal-dialog modal-lg"},Kt={class:"modal-content"},Pt={class:"modal-body position-relative"},$t={class:"row g-3"},Et={class:"col-md-6"},Gt={class:"col-md-6"},Nt={class:"col-md-6"},qt={class:"col-md-6"},Rt={class:"input-group"},Ft={class:"col-md-12"},At={class:"input-group position-relative"},Lt=["value","data-text","textContent"],zt={class:"col-md-12"},Jt={class:"col-md-12"},Ot={class:"modal-footer"},Ht={key:0,class:"modal-css"},Qt={class:"modal-dialog-css"},Wt={class:"modal-header-css"},Xt={class:"modal fade",id:"modalImportBankSoal",tabindex:"-1","aria-labelledby":"exampleModalLabel"},Yt={class:"modal-dialog"},Zt={class:"modal-content"},ta={class:"modal-body"},aa={class:"d-flex justify-content-center mb-3"},ts=H({__name:"index",setup(sa){rt({title:"Bank Soal"});const D=ut(s=>{P()},300);Q();const f=W(),{$axiosAuth:w}=X();f.params.id,f.query.tipe;const M=r(5),B=r({}),T=r({}),o=r({}),b=r(f.query.tab||"pilihan_ganda"),l=r({show:!1,kd:!1,tabs:!1,detail:!1});r({});const k=C.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:s=>{s.onmouseenter=C.stopTimer,s.onmouseleave=C.resumeTimer}});Y(()=>f.query.tab,s=>{s&&(b.value=s)});const G=r("pilihan_ganda");function j(s){G.value=s,lt({query:{tab:s}})}async function I(s){l.value.tingkat=!0;try{const t=new FormData;t.append("jenis",s);let n=await w({method:"post",url:"/bank-soal/kesukaraan-update",data:t});l.value.show=!0,l.value.tingkat=!1,k.fire({icon:"success",title:"berhasil diubah"})}catch(t){console.error(t.response?.data||t.message),l.value.tingkat=!1,k.fire({icon:"error",title:"Gagal"})}}const V=r([]);async function K(){l.value.kd=!0;try{let s=await w({method:"post",url:"/other/group"});V.value=s?.data?.data?.kompetensi_dasar,l.value.kd=!1}catch(s){console.error(s.response?.data||s.message),l.value.kd=!1}}async function N(){await document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click())}async function P(){l.value.show=!0,l.value.detail=!0;const s=new FormData,t=o.value;for(var n in t)s.append(n,t[n]);try{const e=(await w({method:"post",url:"/bank-soal/detail/store",data:s})).data.status;l.value.show=!1,l.value.detail=!1,e==!0&&k.fire({icon:"success",title:"kuis berhasil disimpan"}),o.value={},N()}catch(d){console.error(d.response?.data||d.message),l.value.show=!1,l.value.detail=!1,k.fire({icon:"error",title:"Gagal disimpan"})}}Z(()=>{K()}),tt(()=>{});async function q(s){B.value=s.data}async function R(s){T.value=s.data}async function F(s){const t=["id","kelas","jurusan","mapel","kd","kd_id","tingkat_kesulitan","tag","pembahasan","status"];for(const n of t)n in s&&(o.value[n]=s[n]);s?.aksi=="ganti_status"?D():s=await{}}async function A(s){const t=["id","kelas","jurusan","mapel","kd","kd_id","tingkat_kesulitan","tag","pembahasan","status"];for(const n of t)n in s&&(o.value[n]=s[n]);s?.aksi=="ganti_status"?D():o.value}function L(s){const d=s.target.selectedOptions[0]?.dataset.text;d&&(o.value.kd=d)}const h=r(!1);return(s,t)=>{const n=at("font-awesome-icon"),d=J,v=O;return u(),x("div",null,[a("div",pt,[a("div",mt,[t[19]||(t[19]=a("h2",{class:"fw-bold mb-0"},"Bank Soal",-1)),a("button",bt,[p(n,{icon:["fas","file-excel"]}),t[18]||(t[18]=i(" Import Soal ",-1))])]),t[32]||(t[32]=a("hr",{class:"border border-2"},null,-1)),a("div",null,[a("nav",null,[a("div",vt,[a("button",{onClick:t[0]||(t[0]=e=>j("pilihan_ganda")),class:y(["nav-link",b.value==="pilihan_ganda"?"active":""]),id:"tab-pg","data-bs-toggle":"tab","data-bs-target":"#nav-home",type:"button",role:"tab","aria-controls":"nav-home","aria-selected":"true"},[t[20]||(t[20]=i(" PG ",-1)),a("span",ct,S(B.value?.total),1)],2),a("button",{onClick:t[1]||(t[1]=e=>j("uraian")),class:y(["nav-link",b.value==="uraian"?"active":""]),id:"tab-uraian","data-bs-toggle":"tab","data-bs-target":"#nav-profile",type:"button",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},[t[21]||(t[21]=i(" Uraian ",-1)),a("span",gt,S(T.value?.total),1)],2)])]),a("div",ft,[a("div",{class:y(["tab-pane fade",b.value==="pilihan_ganda"?"show active":""]),id:"pilihan_ganda",role:"tabpanel","aria-labelledby":"nav-home-tab",tabindex:"0"},[a("div",kt,[p(d,{to:"/home/bank-soal/create?tipe=pilihan_ganda",class:"btn btn-sm btn-outline-primary rounded-pill"},{default:U(()=>[...t[22]||(t[22]=[i(" + Pilihan Ganda ",-1)])]),_:1}),a("div",xt,[t[26]||(t[26]=a("a",{href:"#",class:"btn btn-sm btn-outline-primary rounded-pill","data-bs-toggle":"dropdown","aria-expanded":"false"},"Indexs Kesulitan",-1)),a("div",yt,[a("div",{onClick:t[3]||(t[3]=$(()=>{},["stop"]))},[a("div",_t,[a("div",wt,[t[24]||(t[24]=a("h6",{class:"fw-semibold mb-1"},"Perbarui Indexs Kesulitan",-1)),t[25]||(t[25]=a("small",{class:"text-muted"},[i(" Setiap soal akan dihitung ulang jika telah dijawab oleh minimal "),a("strong",null,"15"),i(" pengguna ")],-1)),a("div",ht,[a("button",{type:"button",class:"btn btn-primary rounded-pill px-4",onClick:t[2]||(t[2]=e=>I("pilihan_ganda"))},[...t[23]||(t[23]=[a("i",{class:"bi bi-arrow-repeat me-2"},null,-1),i(" Update ",-1)])])])]),l.value.tingkat?(u(),_(v,{key:0,class:"position-center"})):c("",!0)])])])])]),a("div",Ct,[p(nt,{loading:l.value.show,page_list:M.value,onData:q,onItem:F},null,8,["loading","page_list"])])],2),a("div",{class:y(["tab-pane fade",b.value==="uraian"?"show active":""]),id:"uraian",role:"tabpanel","aria-labelledby":"nav-profile-tab",tabindex:"0"},[a("div",St,[p(d,{to:"/home/bank-soal/create?tipe=uraian",class:"btn btn-sm btn-outline-primary rounded-pill"},{default:U(()=>[...t[27]||(t[27]=[i(" + Uraian ",-1)])]),_:1}),a("div",Ut,[t[31]||(t[31]=a("a",{href:"#",class:"btn btn-sm btn-outline-primary rounded-pill","data-bs-toggle":"dropdown","aria-expanded":"false"},"Tingkat Kesulitan",-1)),a("div",Dt,[a("div",{onClick:t[5]||(t[5]=$(()=>{},["stop"]))},[a("div",Mt,[a("div",Bt,[t[29]||(t[29]=a("h6",{class:"fw-semibold mb-1"},"Perbarui Index Kesulitan",-1)),t[30]||(t[30]=a("small",{class:"text-muted"},[i(" Setiap soal akan dihitung ulang jika telah dijawab oleh minimal "),a("strong",null,"15"),i(" pengguna ")],-1)),a("div",Tt,[a("button",{type:"button",class:"btn btn-primary rounded-pill px-4",onClick:t[4]||(t[4]=e=>I("uraian"))},[...t[28]||(t[28]=[a("i",{class:"bi bi-arrow-repeat me-2"},null,-1),i(" Update ",-1)])])])]),l.value.tingkat?(u(),_(v,{key:0,class:"position-center"})):c("",!0)])])])])]),a("div",jt,[p(it,{loading:l.value.show,page_list:M.value,onData:R,onItem:A},null,8,["loading","page_list"])])],2)])])]),a("div",It,[a("div",Vt,[a("div",Kt,[t[45]||(t[45]=a("div",{class:"modal-header"},[a("h5",{class:"modal-title"},"Detail"),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),a("div",Pt,[a("form",null,[a("div",$t,[a("div",Et,[t[33]||(t[33]=a("label",{class:"form-label"},"Kelas",-1)),m(a("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>o.value.kelas=e),class:"form-control"},null,512),[[g,o.value.kelas]])]),a("div",Gt,[t[34]||(t[34]=a("label",{class:"form-label"},"Jurusan",-1)),m(a("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>o.value.jurusan=e),class:"form-control"},null,512),[[g,o.value.jurusan]])]),a("div",Nt,[t[35]||(t[35]=a("label",{class:"form-label"},"Mata Pelajaran",-1)),m(a("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>o.value.mapel=e),class:"form-control"},null,512),[[g,o.value.mapel]])]),a("div",qt,[t[37]||(t[37]=a("label",{class:"form-label"},"Tingkat Kesulitan",-1)),a("div",Rt,[m(a("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>o.value.tingkat_kesulitan=e),id:"inputGroupSelect04","aria-label":"Example select with button addon"},[...t[36]||(t[36]=[a("option",{selected:""},"Choose...",-1),a("option",{value:"rendah"},"Rendah",-1),a("option",{value:"sedang"},"Sedang",-1),a("option",{value:"tinggi"},"Tinggi",-1)])],512),[[E,o.value.tingkat_kesulitan]]),a("button",{class:"btn btn-light border border-1",type:"button",onClick:t[10]||(t[10]=e=>h.value=!0)},[p(n,{icon:["fa","circle-info"]})])])]),a("div",Ft,[t[40]||(t[40]=a("label",{class:"form-label"},"Kompetensi Dasar",-1)),a("div",At,[m(a("select",{class:"form-select",onFocus:t[11]||(t[11]=e=>K()),onChange:t[12]||(t[12]=e=>L(e)),"onUpdate:modelValue":t[13]||(t[13]=e=>o.value.kd_id=e)},[t[38]||(t[38]=a("option",{value:""},null,-1)),(u(!0),x(st,null,et(V.value,(e,z)=>(u(),x("option",{key:z,value:e.id,"data-text":e.text,textContent:S(e.text)},null,8,Lt))),128))],544),[[E,o.value.kd_id]]),p(d,{class:"btn btn-light border border-1",to:{name:"home-setting"}},{default:U(()=>[...t[39]||(t[39]=[i("+ KD",-1)])]),_:1}),l.value.kd?(u(),_(v,{key:0,class:"position-center"})):c("",!0)])]),a("div",zt,[t[41]||(t[41]=a("label",{class:"form-label"},"Tag",-1)),m(a("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=e=>o.value.tag=e),class:"form-control"},null,512),[[g,o.value.tag]]),t[42]||(t[42]=a("div",{class:"text-end"},[a("small",null,"Pisahkan dengan titik koma (;)")],-1))]),a("div",Jt,[t[43]||(t[43]=a("label",{class:"form-label"},"Pembahasan",-1)),m(a("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.value.pembahasan=e),class:"form-control"},null,512),[[g,o.value.pembahasan]])])])]),l.value.detail?(u(),_(v,{key:0,class:"position-center"})):c("",!0)]),a("div",Ot,[t[44]||(t[44]=a("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",id:"btn_modal_close"},"Tutup",-1)),a("button",{type:"button",class:"btn btn-primary",onClick:t[16]||(t[16]=e=>P())},"Simpan")])])])]),h.value?(u(),x("div",Ht,[a("div",Qt,[a("div",Wt,[t[46]||(t[46]=a("h5",{class:"modal-title-css"},"📚 Taksonomi Bloom Revisi",-1)),a("button",{class:"modal-close-css",onClick:t[17]||(t[17]=e=>h.value=!1)},"×")]),t[47]||(t[47]=ot('<div class="modal-body-css"><div class="table-responsive"><table class="table table-bordered table-striped"><thead class="table-primary"><tr><th scope="col">Ranah Kognitif</th><th scope="col">Level</th></tr></thead><tbody><tr><td><div>C1 – Mengingat</div><div>C2 – Memahami</div></td><td class="text-center align-middle"><span class="badge bg-success">Rendah</span></td></tr><tr><td><div>C3 – Menerapkan</div><div>C4 – Menganalisis</div></td><td class="text-center align-middle"><span class="badge bg-warning text-dark">Sedang</span></td></tr><tr><td><div>C5 – Mengevaluasi</div><div>C6 – Mencipta</div></td><td class="text-center align-middle"><span class="badge bg-danger">Tinggi</span></td></tr></tbody></table></div></div>',1))])])):c("",!0),a("div",Xt,[a("div",Yt,[a("div",Zt,[t[48]||(t[48]=a("div",{class:"modal-header"},[a("h5",{class:"modal-title"},"Import Bank Soal"),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),a("div",ta,[a("div",aa,[p(dt)])]),t[49]||(t[49]=a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Tutup")],-1))])])])])}}});export{ts as default};
