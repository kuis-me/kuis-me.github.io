import{_ as I}from"./CwQB-XB4.js";import{f as R,r as c,G as U,c as u,o as a,a as e,b as d,w as L,t as v,F,q as O,H as q,d as g,u as A,z as K,C as H,l as C,A as z,k as D,i as E,e as N,m as k,T as Y,S as G,h as J,M as Q}from"#entry";import{_ as W}from"./DCdpMFYG.js";import{_ as X}from"./D_eN7wpH.js";import{_ as V}from"./BFU05jqY.js";import{u as Z}from"./CUA_6ykz.js";/* empty css        */import{P as ee}from"./guNrlRrX.js";import"./DeDina9t.js";import{_ as te}from"./DlAUqK2U.js";import"./KJ3nDwG6.js";import{u as oe}from"./C-MlBdbB.js";/* empty css        */import"./QraDVNg7.js";import"./DmRUS9VP.js";import"./DoL2xymK.js";import"./DSPHs38f.js";import"./CSUp8RW0.js";import"./CkhwbRmL.js";const se={class:"d-flex justify-content-center mb-3 position-relative"},ae=["src"],ne={class:"text-center mb-3"},le={class:"mb-0 fw-bold"},ie={class:"text-center mb-4"},re={class:"fst-italic",style:{"min-height":"50px"}},de={class:"d-flex justify-content-around border-top pt-3 small text-center mb-3"},ue={class:"border-top pt-3 size-custom"},ce={class:"text-end"},me=R({__name:"ProfilNone",props:{data:{type:Object,required:!0}},setup($){const j=$,l=c({...j.data}),p=[{name:"Tanggal lahir",value:"tanggal_lahir"},{name:"Domisili",value:"alamat"},{name:"Profesi",value:"pekerjaan"},{name:"Kelas",value:"kelas"},{name:"Jurusan",value:"jurusan"},{name:"Institusi",value:"institusi"}];return U(()=>j.data,m=>{l.value={...m}},{immediate:!0,deep:!0}),(m,s)=>{const n=I;return a(),u("div",null,[e("div",se,[d(n,{to:{},class:"d-inline-block position-relative"},{default:L(()=>[l.value.image_show?(a(),u("img",{key:0,src:l.value.image_show,class:"rounded-circle border shadow-sm",style:{width:"100px",height:"100px","object-fit":"cover"}},null,8,ae)):(a(),u("div",{key:1,class:"rounded-circle text-white d-flex align-items-center justify-content-center",style:q({width:"100px",height:"100px",fontSize:"2rem",background:l.value.color})},v(l.value.nama_inisial),5))]),_:1})]),e("div",null,[e("div",ne,[e("h5",le,v(l.value.nama_lengkap),1),e("small",null,v(l.value.email),1)]),e("div",ie,[e("p",re,v(l.value.semboyan||"Belum ada semboyan."),1)])]),e("div",de,[e("div",null,[d(n,{to:{name:"mengikuti"},class:"text-decoration-none text-reset"},{default:L(()=>[e("strong",null,v(l.value.mengikuti_acc_count),1),s[0]||(s[0]=e("br",null,null,-1)),s[1]||(s[1]=g("Mengikuti ",-1))]),_:1})]),e("div",null,[d(n,{to:{name:"pengikut"},class:"text-decoration-none text-reset"},{default:L(()=>[e("strong",null,v(l.value.pengikut_acc_count),1),s[2]||(s[2]=e("br",null,null,-1)),s[3]||(s[3]=g("Pengikut ",-1))]),_:1})])]),e("div",ue,[(a(),u(F,null,O(p,(f,w)=>e("div",{key:w,class:"mb-2 d-flex justify-content-between align-items-center"},[e("div",null,v(f.name)+":",1),e("div",ce,v(l.value[f.value]),1)])),64))])])}}}),pe=Object.assign(me,{__name:"ProfilNone"}),fe={class:"search-bar-2 mb-3 position-relative"},_e={class:"row"},ve={class:"card h-100 shadow-sm border-0 rounded-4"},be={class:"card-body d-flex flex-column justify-content-between"},ge={class:"h6 text-center fw-semibold mb-3"},we={class:"d-flex justify-content-center gap-2 mt-auto"},he=["onClick"],ye=["onClick"],xe={key:0,class:"d-flex justify-content-end"},ke={key:1,class:"col-12 card d-flex justify-content-center align-items-center",style:{height:"100px"}},$e={class:"modal fade",id:"pdfModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},je={class:"modal-dialog modal-lg modal-fullscreen-lg-down"},Ce={class:"modal-content"},Me={class:"modal-body position-relative bg-transparent m-0 p-0",style:{"min-height":"200px","background-color":"white"}},Be={__name:"Materi",props:{data:{type:Object,required:!1,default:()=>({})}},emits:["input"],setup($,{emit:j}){const l=$,{$axiosAuth:p}=A(),m=c({total:1,per_page:1});U(()=>l.data,t=>{m.value=t||{total:1,per_page:1}},{deep:!0,immediate:!0});const s=c({url_view:"",url_downoad:""});async function n(t){const o=await p({method:"post",url:t,responseType:"blob"}),i=URL.createObjectURL(o.data);s.value.url_view=await i}async function f(t){try{const o=await p({method:"post",url:t,responseType:"blob"}),i=o.headers["content-disposition"];let b="materi.pdf";i&&i.includes("filename=")&&(b=i.split("filename=")[1].replace(/"/g,""));const M=URL.createObjectURL(o.data),h=document.createElement("a");h.href=M,h.download=b,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(M)}catch(o){console.error(o.response?.data||o.message)}}const w=c(!1);U(s,(t,o)=>{w.value=!1,setTimeout(()=>{w.value=!0},100)},{deep:!0});const _=c({materi_page:1,materi_cari:""}),r=j;return U(_,(t,o)=>{r("input",t)},{deep:!0}),(t,o)=>{const i=z("font-awesome-icon"),b=W,M=X,h=V;return a(),u("div",null,[e("div",null,[o[4]||(o[4]=e("div",{class:"h5 mb-3 fw-bold"},"ðŸ“š Materi",-1)),e("div",fe,[K(e("input",{type:"text",class:"border-0","onUpdate:modelValue":o[0]||(o[0]=y=>_.value.materi_cari=y),placeholder:"Cari Materi"},null,512),[[H,_.value.materi_cari]])]),e("div",_e,[m.value?.data?.length>0?(a(),u(F,{key:0},[(a(!0),u(F,null,O(m.value?.data,(y,x)=>(a(),u("div",{class:"col-xl-12 col-md-6 col-12 p-2 m-0",key:x},[e("div",ve,[e("div",be,[e("div",ge,v(y.nama),1),e("div",we,[e("button",{class:"btn btn-sm btn-outline-primary rounded-3","data-bs-toggle":"modal","data-bs-target":"#pdfModal",onClick:B=>n(y.url_view)},[d(i,{icon:["fa","file-pdf"],class:"me-1"}),o[2]||(o[2]=g(" Tampilkan ",-1))],8,he),e("button",{class:"btn btn-sm btn-outline-success rounded-3",onClick:B=>f(y.url_download)},[d(i,{icon:["fa","download"],class:"me-1"}),o[3]||(o[3]=g(" Unduh ",-1))],8,ye)])])])]))),128)),m.value?.total>m.value?.per_page?(a(),u("div",xe,[d(b,{modelValue:_.value.materi_page,"onUpdate:modelValue":o[1]||(o[1]=y=>_.value.materi_page=y),"total-items":m.value?.total??1,"items-per-page":m.value?.per_page??1},null,8,["modelValue","total-items","items-per-page"])])):C("",!0)],64)):(a(),u("div",ke," Belum ada materi "))])]),e("div",$e,[e("div",je,[e("div",Ce,[e("div",Me,[o[5]||(o[5]=e("button",{type:"button",class:"btn-close position-absolute top-0 end-0 m-3","data-bs-dismiss":"modal","aria-label":"Close",style:{"z-index":"1300"}},null,-1)),w.value?(a(),D(M,{key:0,data:s.value,style:{padding:"0px !important",margin:"0px !important"}},null,8,["data"])):(a(),D(h,{key:1,class:"position-center"}))])])])])])}}},De={key:0,class:"text-center"},Pe={class:"card border-0 rounded-4 p-4 text-center w-100 position-relative mx-auto",style:{"max-width":"420px",background:"linear-gradient(135deg, #ffffff, #f8f9fa)"}},Te={key:0,class:"position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center bg-white bg-opacity-75 rounded-4",style:{"z-index":"10"}},Se={key:0,class:"d-flex align-items-center justify-content-start bg-success bg-opacity-10 border border-success rounded-4 p-3 mb-3",role:"alert"},Ue={class:"rounded-circle bg-success text-white fw-bold d-flex align-items-center justify-content-center me-3",style:{width:"40px",height:"40px"}},Le={class:"text-start"},Ve={class:"fw-semibold text-success"},Fe={key:1,class:"dropdown"},Ne=["disabled"],Re={class:"dropdown-menu w-100 text-center rounded-3 shadow"},Ae={key:2,class:"dropdown"},Oe=["disabled"],ze={class:"dropdown-menu w-100 text-center rounded-3 shadow"},Ee=["disabled"],Ie=R({__name:"Follow",props:{data:{type:Object,required:!0,default:()=>({})},loading:{type:Boolean,default:!0}},emits:["kirim"],setup($,{emit:j}){const{$axiosAuth:l}=A(),p=c({}),s=E().params.user,n=c({follow:!1});async function f(){const r=new FormData;r.append("username",s);try{let o=(await l({method:"post",url:"/hubungan/mengikuti/show",data:r})).data;p.value=o}catch(t){console.error(t.response?.data||t.message)}}async function w(){n.value.follow=!0;const r=new FormData;r.append("username",s);try{const t=await l({method:"post",url:"/hubungan/mengikuti/store",data:r});p.value=t.data,n.value.follow=!1}catch(t){console.error(t.response?.data||t.message),n.value.follow=!1}}async function _(){const r=await G.fire({title:"Apakah Anda yakin?",text:"Proses ini tidaak dapat dibatalkan",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, berhenti!",cancelButtonText:"Batal"});if(r.isConfirmed){n.value.follow=!0;const t=new FormData;t.append("username",s);try{const o=await l({method:"post",url:"/hubungan/mengikuti/delete",data:t});r.value=o.data,n.value.follow=!1,f()}catch(o){console.error(o.response?.data||o.message),n.value.follow=!1}}}return N(async()=>{f()}),(r,t)=>{const o=V,i=z("font-awesome-icon");return k(s)?(a(),u("div",De,[e("div",Pe,[k(n).follow?(a(),u("div",Te,[d(o),t[3]||(t[3]=e("small",{class:"text-muted mt-2"},"Memproses...",-1))])):C("",!0),d(Y,{name:"slide-fade"},{default:L(()=>[$.data.pengikut?(a(),u("div",Se,[e("div",Ue,v($.data.nama_lengkap.charAt(0)),1),e("div",Le,[e("span",Ve,[d(i,{icon:["fas","user-plus"],class:"me-1"}),g(" "+v($.data.nama_lengkap),1)]),t[4]||(t[4]=e("br",null,null,-1)),t[5]||(t[5]=e("small",{class:"text-muted"},"mulai mengikuti anda",-1))])])):C("",!0)]),_:1}),k(p).status=="terima"?(a(),u("div",Fe,[e("button",{class:"btn btn-success w-100 rounded-pill fw-semibold dropdown-toggle follow-btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:k(n).follow},[d(i,{icon:["fas","user-check"],class:"me-2"}),t[6]||(t[6]=g(" Mengikuti ",-1))],8,Ne),e("ul",Re,[e("li",null,[e("a",{class:"dropdown-item text-danger fw-semibold",href:"#",onClick:t[0]||(t[0]=b=>_())},[d(i,{icon:["fas","user-times"],class:"me-2"}),t[7]||(t[7]=g(" Berhenti Mengikuti ",-1))])])])])):k(p).status=="menunggu"?(a(),u("div",Ae,[e("button",{class:"btn btn-warning w-100 rounded-pill fw-semibold dropdown-toggle follow-btn",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:k(n).follow},[d(i,{icon:["fas","hourglass-half"],class:"me-2"}),t[8]||(t[8]=g(" Menunggu Konfirmasi ",-1))],8,Oe),e("ul",ze,[e("li",null,[e("a",{class:"dropdown-item text-danger fw-semibold",href:"#",onClick:t[1]||(t[1]=b=>_())},[d(i,{icon:["fas","user-times"],class:"me-2"}),t[9]||(t[9]=g(" Batalkan Permintaan ",-1))])])])])):(a(),u("button",{key:3,onClick:t[2]||(t[2]=b=>w()),type:"button",class:"btn btn-outline-primary w-100 rounded-pill fw-semibold follow-btn",disabled:k(n).follow},[d(i,{icon:["fas","user-plus"],class:"me-2"}),t[10]||(t[10]=g(" Ikuti ",-1))],8,Ee))])])):C("",!0)}}}),qe=Object.assign(te(Ie,[["__scopeId","data-v-abc2f70d"]]),{__name:"Follow"}),Ke={class:"row justify-content-center m-md-1"},He={class:"col-12 col-xxl-11"},Ye={class:"row g-3"},Ge={class:"col-md-4 col-xl-3"},Je={class:"card h-100"},Qe={class:"card-body position-relative"},We={class:"col"},Xe={class:"col-12 col-xl-3"},Ze={class:"card h-100"},et={class:"card-body position-relative"},ht=R({__name:"index",setup($){const j=E(),l=j.params.user;Z({title:"Profil "+l});const{isMd:p}=oe(),m=J(),s=j.params.user,n=c(""),f=c({}),w=c([]),_=c({page:1}),r=c({profil:!0,posting:!0,posting_sent:!0}),t=c({});c({});const{$axiosAuth:o}=A(),i=c(null);async function b(){r.value.profil=!0;const x=new FormData,B=t.value;for(var P in B)x.append(P,B[P]);s?n.value=`profil/${s}/show`:n.value="/profil";try{const S=(await o({method:"post",url:n.value,data:x})).data;f.value=S,s?m.set("getProfil",S):m.set("profil",S),console.log(S),r.value.profil=!1}catch(T){console.log(T.response.data)}}N(async()=>{i.value&&i.value.addEventListener("scroll",()=>{console.log("Scroll Y:",i.value.scrollTop)})}),N(()=>{b()}),Q(()=>{});function M(x){_.value={page:x},console.log(_.value)}function h(){}function y(x){t.value=x,b()}return(x,B)=>{const P=pe,T=Be;return a(),u("div",null,[e("div",Ke,[e("div",He,[e("div",Ye,[e("div",Ge,[e("div",Je,[e("div",Qe,[e("div",null,[k(p)?C("",!0):(a(),D(qe,{key:0,data:k(s),onKirim:h},null,8,["data"]))]),d(P,{data:f.value.data},null,8,["data"]),r.value.profil?(a(),D(V,{key:0,class:"position-center"})):C("",!0)])])]),e("div",We,[d(ee,{data:w.value,loading:r.value.posting_sent,onKirim:M},null,8,["data","loading"])]),e("div",Xe,[e("div",Ze,[e("div",et,[d(T,{data:f.value.materi,onInput:y},null,8,["data"]),r.value.profil?(a(),D(V,{key:0,class:"position-center"})):C("",!0)])])])])])])])}}});export{ht as default};
