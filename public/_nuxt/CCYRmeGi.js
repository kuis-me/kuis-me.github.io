import{_ as P}from"./BFU05jqY.js";import{D as B,r as u,y as V,u as q,c as n,o as r,a,F as w,q as f,t as v,m as t,l as b,k as C,z as p,C as c,B as S}from"#entry";import{u as F}from"./CUA_6ykz.js";const N={class:"row justify-content-center"},U={class:"col-sm-12 container-fluid"},$={class:"card card-body form-400-center"},A={class:"text-success"},G={class:"position-relative"},j={key:0,class:"mb-3"},z={class:"mb-3"},E={class:"mb-3"},T={__name:"change_password",setup(H){F({title:"Ganti Password"});let y=B("user").value?.data?.register_type;S();const o=u({password_lama:"",password_baru:"",password_baru_confirmed:""});V("auth_token");const{$axiosAuth:g}=q(),l=u(!1),m=u({}),_=u([]),k=async()=>{l.value=!0;const i=new FormData;let s=o.value;for(var d in s)i.append(d,s[d]);try{const e=await g({method:"post",url:"/password/update",data:i});m.value=e.data,l.value=!1,o.value={}}catch(e){console.log(e.response.data),l.value=!1,_.value=e.response.data.errors}};return(i,s)=>{const d=P;return r(),n("div",N,[a("div",U,[a("div",$,[s[4]||(s[4]=a("h2",null,"Ganti Password",-1)),(r(!0),n(w,null,f(t(_),(e,h)=>(r(),n("p",{class:"text-danger",key:h},[(r(!0),n(w,null,f(e,(x,D)=>(r(),n("p",{class:"text-danger",key:D},v(x),1))),128))]))),128)),a("div",A,v(t(m).message),1),a("form",G,[t(y)!=="google"?(r(),n("div",j,[p(a("input",{type:"password",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=e=>t(o).password_lama=e),placeholder:"Password lama",required:""},null,512),[[c,t(o).password_lama]])])):b("",!0),a("div",z,[p(a("input",{type:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>t(o).password_baru=e),placeholder:"Password baru",required:""},null,512),[[c,t(o).password_baru]])]),a("div",E,[p(a("input",{type:"password",class:"form-control","onUpdate:modelValue":s[2]||(s[2]=e=>t(o).password_baru_confirmed=e),placeholder:"Password baru",required:""},null,512),[[c,t(o).password_baru_confirmed]])]),a("button",{type:"button",onClick:s[3]||(s[3]=e=>k()),class:"btn btn-primary w-100"},"Submit"),t(l)?(r(),C(d,{key:1,class:"position-center"})):b("",!0)])])])])}}};export{T as default};
