import{_ as M}from"./Dg1O1juR.js";import{_ as S}from"./DuWT4fIn.js";import{_ as U}from"./BwT3rymJ.js";import{_ as F}from"./CUThqa1z.js";import{f as K,i as R,u as $,h as j,j as A,r as u,s as p,e as G,c as l,o as i,a as e,b as o,v as T,l as f,L as w,m as _,w as d,d as q,x as E,K as L,z as X,t as v,k as H}from"#entry";import"./C31_JZqf.js";import"./4vIJTBId.js";import{_ as I}from"./o3g7sNdC.js";import{u as J}from"./C-MlBdbB.js";import{d as O}from"./DoL2xymK.js";const Q={key:0,class:"d-flex align-items-center profile-section text-end"},W={class:"d-flex align-items-center profile-section text-end me-3"},Y={class:"btn","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},Z={class:"btn-group position-relative me-3"},ee={"data-refresh":"",type:"button",class:"btn p-0","data-bs-toggle":"dropdown","aria-expanded":"false"},te={key:0,class:"position-absolute top-0 start-100 translate-middle rounded-circle bg-danger",style:{width:"10px",height:"10px"}},oe={class:"dropdown-menu","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid rgba(0, 0, 0, 0.08)","box-shadow":`0 12px 28px 0 rgba(0, 0, 0, 0.08), 
                        0 2px 4px 0 rgba(0, 0, 0, 0.04)`,"background-clip":"padding-box","z-index":"1000",position:"absolute",left:"50%",transform:"translateX(-50%)","margin-top":"8px"}},se={class:"p-3"},ae={key:0},ne={class:"text-center"},ie={class:"btn-group position-relative me-3"},le={class:"btn d-flex align-items-center text-decoration-none","data-bs-toggle":"dropdown","aria-expanded":"false"},re={key:0,alt:"Foto Profil",class:"avatar-40 profile-img rounded-circle lazy-img"},de={class:"d-none d-md-block ms-2 profile-name"},ce={class:"dropdown-menu dropdown-menu-end mt-2","data-bs-auto-close":"outside",style:{width:"320px","max-width":"90vw",border:"1px solid #e9ecef","box-shadow":"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"}},ue={class:"p-3"},me={class:"flex-shrink-0 me-3"},pe={class:"avatar avatar-md bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center"},fe={class:"text-muted"},_e={class:"menu-list"},ve={class:"menu-icon"},xe={class:"menu-arrow"},ge={class:"menu-icon"},be={class:"menu-arrow"},he={class:"menu-icon"},we={class:"menu-arrow"},ke={key:1,class:"d-flex align-items-center profile-section text-end"},Ke=K({__name:"akun",setup(ye){const x=R(),{$Auth:Ve}=$(),g=j(),k=A(),{isMobile:y}=J(),V=u(!1);p(y,(a,t)=>{V.value=a});const c=u({refresh:!1}),b=u([]),n=u({}),h=O(async()=>{n.value=await g.get("profil")},300);async function N(a){b.value=a?a.data:[]}function C(a,t=10){if(!a)return"";const s=a.trim().split(" ")[0];return s.length>t?s.substring(0,t)+"...":s}return p(()=>_(g.get("profil")),(a,t)=>{n.value=a},{deep:!0}),p(()=>k.currentRoute.value.query._r,a=>{a&&h()}),G(async()=>{h()}),(a,t)=>{const s=T("font-awesome-icon"),z=M,B=S,r=U,D=F,P=L("lazy");return i(),l("div",null,[n.value?.data?(i(),l("div",Q,[e("div",W,[e("button",Y,[o(s,{icon:["fas","bars"],class:"fa-2x text-purple-pink"})])]),e("div",Z,[e("button",ee,[o(s,{icon:["fas","bell"],class:"text-purple-pink fa-2x"}),b.value.length>0?(i(),l("div",te)):f("",!0)]),e("div",oe,[e("div",{onClick:t[2]||(t[2]=w(()=>{},["stop"]))},[e("div",se,[_(x).name!="home-notifikasi"?(i(),l("div",ae,[e("div",null,[o(z,{modelValue:c.value.refresh,"onUpdate:modelValue":t[0]||(t[0]=m=>c.value.refresh=m),onData:N},null,8,["modelValue"])]),e("div",null,[o(B,{modelValue:c.value.refresh,"onUpdate:modelValue":t[1]||(t[1]=m=>c.value.refresh=m)},null,8,["modelValue"])]),e("div",ne,[o(r,{to:{name:"home-notifikasi"},class:"text-primary"},{default:d(()=>[...t[4]||(t[4]=[q("Tampilkan semua ",-1)])]),_:1})])])):f("",!0)])])])]),e("div",ie,[e("button",le,[n.value?.data.image_show?E((i(),l("img",re,null,512)),[[P,n.value?.data.image_show]]):(i(),l("div",{key:1,class:"avatar-40 profile-img",style:X({backgroundColor:n.value?.data?.color})},v(n.value?.data?.nama_inisial),5)),e("span",de,v(C(n.value?.data.nama_lengkap)),1)]),e("div",ce,[e("div",{onClick:t[3]||(t[3]=w(()=>{},["stop"]))},[e("div",ue,[o(r,{to:{name:"home-profil"},class:"d-flex align-items-center mb-4 pb-3 border-bottom",style:{"border-color":"#f1f3f5 !important"}},{default:d(()=>[e("div",me,[e("div",pe,[o(s,{icon:["fas","user"]})])]),e("div",null,[t[5]||(t[5]=e("h6",{class:"mb-0 fw-semibold"},"User Profile",-1)),e("small",fe,v(n.value?.data?.email),1)])]),_:1}),e("div",_e,[o(D),o(r,{to:{name:"ganti_password"},class:"menu-item"},{default:d(()=>[e("div",ve,[o(s,{icon:["fas","lock"]})]),t[6]||(t[6]=e("div",{class:"menu-text"},"Ganti Password",-1)),e("div",xe,[o(s,{icon:["fas","chevron-right"]})])]),_:1}),o(I),t[9]||(t[9]=e("div",{class:"border-bottom my-1",style:{"border-color":"#f1f3f5 !important"}},null,-1)),o(r,{to:{name:"logout"},class:"menu-item text-danger"},{default:d(()=>[e("div",ge,[o(s,{icon:["fas","power-off"]})]),t[7]||(t[7]=e("div",{class:"menu-text"},"Keluar",-1)),e("div",be,[o(s,{icon:["fas","chevron-right"]})])]),_:1}),o(r,{to:{name:"logout-all"},class:"menu-item text-danger"},{default:d(()=>[e("div",he,[o(s,{icon:["fas","power-off"]})]),t[8]||(t[8]=e("div",{class:"menu-text"},"Keluar Semua Perangkat",-1)),e("div",we,[o(s,{icon:["fas","chevron-right"]})])]),_:1})])])])])])])):(i(),l("div",ke,[_(x).name!=="login"?(i(),H(r,{key:0,to:"/login",class:"btn-outline-ungu-pink d-flex align-items-center gap-2 mt-2"},{default:d(()=>[...t[10]||(t[10]=[e("strong",null,"Masuk",-1)])]),_:1})):f("",!0)]))])}}});export{Ke as _};
