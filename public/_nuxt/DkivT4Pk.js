import{_ as y}from"./DBDT5h3r.js";import{f as b,h as C,j as x,i as B,r as c,u as V,s as D,e as $,c as d,o as n,a as e,l as g,x as F,y as M,k as S,F as A,q as N,b as h,t as _,v as H,S as T}from"#entry";import{_ as j}from"./BFU05jqY.js";import{u as P}from"./CUA_6ykz.js";import{d as R}from"./DoL2xymK.js";/* empty css        */import"./DlAUqK2U.js";const U={style:{"min-height":"600px"}},q={class:"search-bar-2 mb-3 position-relative"},E={class:"position-relative"},L={class:"card shadow-sm"},Y={class:"card-body"},z={class:"d-flex justify-content-between align-items-start"},G={class:"row align-items-start"},I={class:"col-auto"},J=["src","onClick"],K=["onClick"],O={class:"col"},Q=["onClick"],W={class:"text-muted small"},X={class:"position-absolute top-0 end-0 m-4"},Z={class:"dropdown"},ee={role:"button","data-bs-toggle":"dropdown"},ae={class:"dropdown-menu"},te=["onClick"],oe={key:1},se={key:0,class:"m-2 float-end"},_e=b({__name:"index",props:{loading:{type:Boolean,default:!1}},setup(ne){P({title:"Mengikuti"}),C(),x(),B().params.user,c(1),c({page:1}),c({});const o=c({}),l=c({});c("");const{$axiosAuth:v}=V(),u=c({page:1}),f=R(()=>{p()},300);async function p(){l.value.unggahan=!0;try{const a=new FormData;let i=u.value;for(var s in i)a.append(s,i[s]);let t=(await v({method:"post",url:"/hubungan/mengikuti/acc",data:a})).data;o.value=t?.data,l.value.unggahan=!1}catch(a){console.log(a.response.data),l.value.unggahan=!1}}D(u.value,async(s,a)=>{f()},{deep:!0});async function k(s){const a=await T.fire({title:"Apakah Anda yakin?",text:"Proses ini tidaak dapat dibatalkan",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hentikan!",cancelButtonText:"Batal"});if(a.isConfirmed){l.value.follow=!0;const i=new FormData;i.append("username",s);try{const r=await v({method:"post",url:"/hubungan/mengikuti/delete",data:i});a.value=r.data,l.value.follow=!1,p()}catch(r){console.error(r.response?.data||r.message),l.value.follow=!1}}}return $(()=>{p()}),(s,a)=>{const i=H("font-awesome-icon"),r=y;return n(),d("div",U,[e("div",q,[F(e("input",{type:"text",class:"border-0","onUpdate:modelValue":a[0]||(a[0]=t=>u.value.cari=t),placeholder:"Cari mengikuti"},null,512),[[M,u.value.cari]])]),e("div",E,[o.value.data?.length>0?(n(!0),d(A,{key:0},N(o.value.data,(t,w)=>(n(),d("div",{class:"list-group-item mb-3",key:w},[e("div",L,[e("div",Y,[e("div",z,[e("div",G,[e("div",I,[t.image_show?(n(),d("img",{key:0,src:t.image_show,class:"profil-img avatar-50",onClick:m=>s.redirect(t.username)},null,8,J)):(n(),d("div",{key:1,class:"avatar-50",onClick:m=>s.redirect(t.username)},_(t.nama_inisial),9,K))]),e("div",O,[e("div",{class:"fw-bold cursor-pointer",onClick:m=>s.redirect(t.username)},_(t.nama_lengkap),9,Q),e("div",W,_(t.created_at_for_humans),1)])])]),e("div",X,[e("div",Z,[e("a",ee,[h(i,{icon:["fas","ellipsis-vertical"],class:"text-secondary"})]),e("ul",ae,[e("li",null,[e("a",{href:"#",class:"dropdown-item",onClick:m=>k(t.username)},"Hapus",8,te)])])])])])])]))),128)):(n(),d("div",oe,[...a[2]||(a[2]=[e("div",{class:"card shadow-sm"},[e("div",{class:"card-body position-relative",style:{"min-height":"200px"}},[e("div",{class:"position-center"},"Belum ada data")])],-1)])])),l.value.unggahan?(n(),S(j,{key:2,class:"position-center"})):g("",!0)]),o.value.total>o.value.per_page?(n(),d("div",se,[h(r,{modelValue:u.value.page,"onUpdate:modelValue":a[1]||(a[1]=t=>u.value.page=t),"total-items":o.value.total?o.value.total:1,"items-per-page":o.value.per_page?o.value.per_page:1},null,8,["modelValue","total-items","items-per-page"])])):g("",!0)])}}});export{_e as default};
