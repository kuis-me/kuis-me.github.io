import{_ as S}from"./BFU05jqY.js";import{_ as V}from"./DCdpMFYG.js";import N from"./C3z-ywvo.js";import T from"./D9wmH--q.js";import{f as B,h as H,i as z,j as $,r as l,u as j,G as P,e as R,a8 as U,c,o as n,a as t,z as h,C as A,k as b,l as v,b as m,w as p,t as f,N as I}from"#entry";import{u as E}from"./CUA_6ykz.js";import{d as F}from"./DoL2xymK.js";/* empty css        */import"./DlAUqK2U.js";import"./CyOk-nPg.js";import"./CiWoB02X.js";import"./8bvVrqmo.js";import"./B3sYwAEL.js";import"./EGTR48JM.js";import"./DEyYGdNQ.js";import"./BJGrA6Jd.js";import"./CpUMhc7e.js";import"./jc0MLXVe.js";import"./BYFRBfKH.js";import"./CLs7nh7g.js";import"./BsL1qDrr.js";import"./CWLiJ0se.js";import"./Z8xctkZt.js";import"./B38jw_rB.js";import"./se1TuXrA.js";import"./fEXnvkqj.js";import"./BfI910sS.js";import"./BoVvw8Hm.js";import"./DPMQvY-A.js";import"./B4itNNXA.js";import"./ZhWAdK_X.js";import"./BVWaKjMr.js";import"./DOzupMSm.js";import"./pNQ8ID25.js";import"./CRFPveH9.js";import"./BdAeE4wo.js";import"./D29EZvgL.js";import"./DhHsBxdy.js";import"./CIk3Bab-.js";import"./B2f3LX6i.js";import"./CpAjJcKS.js";import"./LyQxZvra.js";import"./BW1qPPXF.js";import"./CPZCcta-.js";import"./CmIUM5n7.js";import"./GvVV1ICA.js";import"./Dk9qCNTH.js";import"./OzCEp4nL.js";const G={class:"pb-5 pt-3 pt-sm-3"},K={class:"position-relative"},q={class:"row justify-content-between mb-3"},J={class:"col col-sm-4"},O={class:"search-bar-sm mb-3"},Q={style:{"min-height":"500px !important"}},W=["innerHTML"],X=["onClick"],Y={class:"col-auto"},Z={key:0,class:"profil-img avatar-50 lazy-img"},tt={key:1,class:"avatar-50 profile-img"},at=["innerHTML"],ot={class:"mt-2"},et={class:"row justify-content-between"},st={class:"col-auto"},it={class:"col-auto"},lt={class:"modal fade",id:"PelanggaranModal",tabindex:"-1"},nt={class:"modal-dialog modal-lg"},rt={class:"modal-content"},mt={class:"modal-body position-relative",style:{"min-height":"300px"}},pt=["src"],na=B({__name:"laporan_masalah",setup(dt){E({title:"laporan masalah - Kuis"});const g=F(()=>{x()},1e3);H();const y=z();$(),l({});const w=y?.params?.id,d=l({pelanggaran:!1,show:!1,catatan:!1,nilai:!1}),e=l({}),s=l({});l({});const u=l({}),{$axiosAuth:k}=j();async function x(){d.value.show=!0;const i=new FormData;i.append("page",s.value.page),i.append("unggahan_id",w);try{const r=(await k({method:"post",url:"/unggahan/kuis/koreksi/laporan-masalah",data:i})).data;console.log(r),e.value=r?.data}catch(a){console.error(a.response?.data||a.message)}d.value.show=!1}P(s,()=>{g()},{deep:!0});function M(i){u.value.image=i}return R(()=>{g()}),U(()=>{}),(i,a)=>{const r=S,_=T,C=N,D=V,L=I("lazy");return n(),c("div",null,[a[6]||(a[6]=t("h2",{class:"pb-2 mb-4"}," Laporan Masalah ",-1)),t("div",G,[t("div",K,[t("div",q,[t("div",J,[t("div",O,[h(t("input",{type:"text",placeholder:"cari","onUpdate:modelValue":a[0]||(a[0]=o=>s.value.search=o),style:{"max-width":"300px"}},null,512),[[A,s.value.search]])])]),a[2]||(a[2]=t("div",{class:"col-auto"},null,-1))]),t("div",Q,[d.value.show?(n(),b(r,{key:0,class:"position-center"})):v("",!0),m(C,{value:e.value.data,responsiveLayout:"scroll",class:"bordered-table",layout:"fixed"},{empty:p(()=>[...a[3]||(a[3]=[t("div",{class:"text-center text-muted p-4"},"Belum ada data",-1)])]),default:p(()=>[m(_,{field:"nama",header:"Nama",sortable:""},{body:p(({data:o})=>[t("span",{innerHTML:o?.profil?.nama_lengkap},null,8,W)]),_:1}),m(_,{field:"image",header:"Image"},{body:p(({data:o})=>[t("div",{class:"row align-items-start",onClick:ct=>M(o.image),"data-bs-toggle":"modal","data-bs-target":"#PelanggaranModal"},[t("div",Y,[o.image?h((n(),c("img",Z,null,512)),[[L,o.image]]):(n(),c("div",tt))])],8,X)]),_:1}),m(_,{field:"masalah",header:"Masalah",sortable:""},{body:p(({data:o})=>[t("span",{innerHTML:o.masalah},null,8,at)]),_:1})]),_:1},8,["value"])]),t("div",ot,[t("div",et,[t("div",st,f(e.value.to)+" dari "+f(e.value.total),1),t("div",it,[m(D,{modelValue:s.value.page,"onUpdate:modelValue":a[1]||(a[1]=o=>s.value.page=o),"total-items":e.value.total?e.value.total:1,"items-per-page":e.value.per_page?e.value.per_page:1},null,8,["modelValue","total-items","items-per-page"])])])])])]),t("div",lt,[t("div",nt,[t("div",rt,[a[4]||(a[4]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Screenshoot"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",mt,[u.value.image?(n(),c("img",{key:0,src:u.value.image,style:{width:"100%"}},null,8,pt)):v("",!0),d.value.pelanggaran?(n(),b(r,{key:1,class:"position-center"})):v("",!0)]),a[5]||(a[5]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1))])])])])}}});export{na as default};
