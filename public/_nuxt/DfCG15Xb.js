import{_ as g}from"./DlAUqK2U.js";import{r as t,e as h,c as s,o as a,a as o,F as y,q as b,t as p,l as f}from"#entry";const k={class:"container py-5"},x={class:"card-body"},I={class:"text-muted"},B={key:0},L={key:1,class:"text-muted"},m=10,M={__name:"posts",setup($){const i=t([]),d=t(1),r=t(!1),l=t(!1),n=t(null);let u;const v=async()=>{if(r.value||l.value)return;r.value=!0;const e=await $fetch(`/api/posts?page=${d.value}&limit=${m}`);e.length<m&&(l.value=!0),i.value.push(...e),d.value++,r.value=!1};return h(()=>{v(),u=new IntersectionObserver(([e])=>{e.isIntersecting&&v()}),n.value&&u.observe(n.value)}),(e,_)=>(a(),s("div",k,[_[0]||(_[0]=o("h3",{class:"mb-4"},"Post List",-1)),(a(!0),s(y,null,b(i.value,c=>(a(),s("div",{key:c.id,class:"card mb-3"},[o("div",x,[o("h5",null,p(c.title),1),o("p",I,p(c.body),1)])]))),128)),o("div",{ref_key:"loadMoreTrigger",ref:n,class:"text-center py-4"},[r.value?(a(),s("div",B,"ðŸ”„ Loading...")):f("",!0),l.value?(a(),s("div",L,"âœ… Semua data telah dimuat")):f("",!0)],512)]))}},N=g(M,[["__scopeId","data-v-3ecfc2de"]]);export{N as default};
