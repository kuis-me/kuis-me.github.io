import{_ as S}from"./BFU05jqY.js";import{v as B,r as u,h as R,i as U,u as F,e as L,c as n,o as r,a as s,l as f,m as t,t as _,F as x,q as h,k as M,z as g,C as w,b as N,w as V,d as q,A as T,n as $}from"#entry";import{u as j}from"./CUA_6ykz.js";const E={class:"row justify-content-center"},z={class:"col-sm-12 container-fluid"},H={class:"card card-body form-400-center"},G={key:0,class:"text-danger"},I={key:1,class:"text-success"},J={class:"position-relative"},K={class:"mb-3"},O={class:"mb-3"},Q={class:"mb-3"},W={class:"mt-3 d-flex justify-content-between"},ae={__name:"reset-password",setup(X){const C=B().public.AppName;j({title:"Atur Ulang Sandi - "+C});const d=u({}),c=R(),v=c.get("register");c.clear();const y=U().query,o=u({email:y.email,token:y.token,password:null,password_confirmation:null}),k=u({}),p=u(""),A=F().$axios,D=async()=>{d.value.login=!0;const m=new FormData;for(var e in o.value)m.append(e,o.value[e]);try{const l=(await A({method:"post",url:"/reset-password",data:m})).data;l.status==!0?(c.set("register","Password terlah diubah"),await $("/login")):k.value=l.response,p.value=l.message,d.value.login=!1}catch(i){console.error(i.response?.data||i.message),d.value.login=!1}};return L(async()=>{}),(m,e)=>{const i=S,l=T("router-link");return r(),n("div",E,[s("div",z,[s("div",H,[e[6]||(e[6]=s("h2",null,"Lupa Password",-1)),t(p)?(r(),n("p",G,_(t(p)),1)):f("",!0),t(v)?(r(),n("p",I,_(t(v)),1)):f("",!0),(r(!0),n(x,null,h(t(k),(a,b)=>(r(),n("div",{key:b},[(r(!0),n(x,null,h(a,(P,ee)=>(r(),n("p",{key:b,class:"text-danger"},_(P),1))),128))]))),128)),s("form",J,[t(d).login?(r(),M(i,{key:0,class:"position-center"})):f("",!0),s("div",K,[g(s("input",{type:"email",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>t(o).email=a),placeholder:"Email",required:""},null,512),[[w,t(o).email]])]),s("div",O,[g(s("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>t(o).password=a),placeholder:"Password",required:""},null,512),[[w,t(o).password]])]),s("div",Q,[g(s("input",{type:"password_comfirmed",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>t(o).password_confirmation=a),placeholder:"Password_comfirmed",required:""},null,512),[[w,t(o).password_confirmation]])]),s("button",{type:"button",onClick:e[3]||(e[3]=a=>D()),class:"btn btn-primary w-100"}," Submit "),s("div",W,[N(l,{to:{name:"login"}},{default:V(()=>[...e[4]||(e[4]=[q("Login?",-1)])]),_:1}),N(l,{to:{name:"register"}},{default:V(()=>[...e[5]||(e[5]=[q("Registrasi",-1)])]),_:1})])])])])])}}};export{ae as default};
