import{_ as A}from"./BTT6KBUK.js";import{_ as H}from"./QraDVNg7.js";import{f as K,i as L,h as R,j as W,u as M,r as v,e as U,c as d,o as i,a,l as m,k as c,z as F,t as r,d as C,w as f,b as p,I as D,v as E,x as P,y as G,F as J,q as O}from"#entry";import{_ as S}from"./BbXXgusc.js";import{u as Q}from"./CUA_6ykz.js";import{_ as y}from"./BFU05jqY.js";import{_ as X}from"./DlAUqK2U.js";const Y={key:0},Z={class:"list-group-item position-relative mb-3"},aa={class:"card shadow-sm"},ta={class:"card-body position-relative"},sa={class:"d-flex justify-content-between align-items-start"},ea={class:"row align-items-start"},oa={class:"col-auto"},na=["src"],la={class:"col"},ia={class:"text-muted small"},ra={class:"text-muted small"},da={class:"mb-2"},ua={class:"quiz-meta d-none d-md-block"},ca={class:"quiz-mapel"},pa={class:"quiz-meta d-md-none d-block"},ma={class:"quiz-mapel text-center"},_a={class:"text-center"},va={class:"row"},ga={class:"col-sm-12 p-2"},fa={class:"notebook position-relative"},ka={class:"d-flex justify-content-between align-items-center mt-3"},ha={class:"d-flex gap-3 flex-wrap text-secondary position-relative"},ya={class:"ms-1"},ba={class:"ms-1"},wa={class:"ms-1"},xa={key:0,class:"position-absolute top-0 end-0 m-4"},$a={class:"dropdown"},Ca={role:"button","data-bs-toggle":"dropdown"},Da={key:0,class:"dropdown-menu"},Sa={class:"card comments-card border-0 shadow-sm"},ja={class:"card-body"},za={class:"comment-input mb-4"},Ba={class:"position-relative"},Fa={class:"d-flex justify-content-end mt-2"},Na={class:"comments-list position-relative"},Ta={class:"d-flex"},qa={class:"flex-shrink-0 me-3"},Ia=["onClick"],Va=["src"],Aa={class:"flex-grow-1"},Ha={class:"d-flex justify-content-between align-items-start mb-1"},Ka={class:"fw-bold mb-0"},La={class:"text-muted"},Ra={class:"dropdown"},Wa={class:"btn btn-link text-muted p-0",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ma={class:"dropdown-menu dropdown-menu-end"},Ua=["onClick"],Ea={class:"mb-0"},Pa={key:1,class:"list-group-item mb-3"},Ga={class:"card shadow-sm"},Ja={class:"card-body position-relative",style:{"min-height":"150px"}},Oa=K({__name:"[id]",setup(Qa){const b=L();Q({title:"Unggahan - "+b.params.user});const N=R();W();const{$axiosAuth:k}=M(),w=v({}),j=b.params.id,z=b.params.user,s=v({profil:{}}),B=v([]),h=v({}),_=v({}),u=v({tanggapan:!0,tanggapan_input:!1});async function x(){u.value.tanggapan=!0;const o=new FormData;o.append("unggahan_id",j),o.append("username",z);try{const n=(await k({method:"post",url:"/unggahan/show",data:o})).data;s.value=n.data,B.value=n.tanggapan,u.value.tanggapan=!1}catch(t){console.error(t.response?.data||t.message),u.value.tanggapan=!1}}async function T(){u.value.tanggapan_input=!0;const o=new FormData;o.append("unggahan_id",j),o.append("username",z);const t=h.value;for(var n in t)o.append(n,t[n]);try{const l=await k({method:"post",url:"/unggahan/tanggapan/store",data:o});w.value=l.data.data,h.value.text="",x(),u.value.tanggapan_input=!1}catch(l){console.error(l.response?.data||l.message),u.value.tanggapan_input=!1}}async function q(o){const t=new FormData;t.append("tanggapan_id",o);try{const n=await k({method:"delete",url:"/unggahan/tanggapan/"+o+"/destroy",data:t});w.value=n.data,console.log(w.value),x()}catch(n){console.error(n.response?.data||n.message)}}async function $(o,t,n){let l=s.value;l.loading=!0;const g=new FormData;g.append("unggahan_id",t),g.append("reaksi",n);try{const e=await k({method:"post",url:"/unggahan/reaksi/store",data:g});_.value=e.data,l.tidak_suka_count=_.value.tidak_suka,l.suka_count=_.value.suka,l.reaksi_ku=_.value.reaksi,l.mark=_.value.mark,l.loading=!1,n=="mark"&&N.set("tanda",_.value.mark)}catch(e){console.error(e.response?.data||e.message),l.loading=!1}}return U(()=>{x()}),(o,t)=>{const n=A,l=E("font-awesome-icon"),g=H;return i(),d("div",null,[s.value?.profil?.nama_lengkap?(i(),d("div",Y,[a("div",Z,[a("div",aa,[a("div",ta,[u.value.tanggapan?(i(),c(y,{key:0,class:"position-center"})):m("",!0),a("div",null,[a("div",sa,[a("div",ea,[a("div",oa,[s.value.profil.image_show?(i(),d("img",{key:0,src:s.value.profil.image_show,class:"profil-img avatar-50",onClick:t[0]||(t[0]=e=>o.redirect(s.value.profil.username))},null,8,na)):(i(),d("div",{key:1,style:F({backgroundColor:s.value.profil.color}),class:"avatar-50 profile-img",onClick:t[1]||(t[1]=e=>o.redirect(s.value.profil.username))},r(s.value.profil.nama_inisial),5))]),a("div",la,[a("div",{class:"fw-bold cursor-pointer",onClick:t[2]||(t[2]=e=>o.redirect(s.value.profil.username))},r(s.value.profil.nama_lengkap),1),a("div",ia," ID: "+r(s.value.id_ref),1),a("div",ra,r(s.value.created_at_for_humans),1)]),t[9]||(t[9]=a("div",{class:"text-muted small"},null,-1))]),t[10]||(t[10]=a("div",{class:"col-sm-6 text-muted small",style:{"margin-top":"-10px","padding-top":"-10px !important"}},null,-1))]),t[14]||(t[14]=a("hr",{class:"my-2"},null,-1)),a("div",da,[a("div",ua,[a("span",ca,r(s.value.kuis?.mata_pelajaran),1),C(" ⏰ "+r(s.value.kuis?.mulai_formated_2)+" – "+r(s.value.kuis?.tutup_formated_2)+" WIB ",1)]),a("div",pa,[a("div",ma,r(s.value.kuis?.mata_pelajaran),1),a("div",_a,"⏰ "+r(s.value.kuis?.mulai_formated_2)+" – "+r(s.value.kuis?.tutup_formated_2)+" WIB ",1)]),a("div",va,[a("div",ga,[a("div",fa,[a("div",null,r(s.value.text||""),1)])])])]),a("div",ka,[a("div",null,[a("div",null,[s.value?.kuis?.status_aksi=="tutup"?(i(),c(n,{key:0,to:`/${s.value.profil.username}/unggahan/kuis/${s.value.id}`,class:"btn-outline-custom",style:{gap:"0.5rem"}},{default:f(()=>[...t[11]||(t[11]=[a("img",{src:S,width:"20",height:"20"},null,-1),a("span",null," Tutup",-1)])]),_:1},8,["to"])):s.value?.kuis?.status_aksi=="berlangsung"?(i(),c(n,{key:1,to:`/${s.value.profil.username}/unggahan/kuis/${s.value.id}`,class:"btn-outline-custom",style:{gap:"0.5rem"}},{default:f(()=>[...t[12]||(t[12]=[a("img",{src:S,width:"20",height:"20"},null,-1),a("span",null," Berlangsung",-1)])]),_:1},8,["to"])):(i(),c(n,{key:2,to:`/${s.value.profil.username}/unggahan/kuis/${s.value.id}`,class:"btn-outline-custom",style:{gap:"0.5rem"}},{default:f(()=>[...t[13]||(t[13]=[a("img",{src:S,width:"20",height:"20"},null,-1),a("span",null," Belum dimulai",-1)])]),_:1},8,["to"]))])]),a("div",ha,[a("button",{class:"btn p-0 text-secondary",onClick:t[3]||(t[3]=e=>$(null,s.value.id,"suka")),title:"Suka"},[p(l,{icon:["fas","heart"],class:D({"text-danger":s.value.reaksi_ku==="suka"})},null,8,["class"]),a("span",ya,r(s.value.suka_count),1)]),a("button",{class:"btn p-0 text-secondary",onClick:t[4]||(t[4]=e=>$(null,s.value.id,"tidak suka")),title:"Tidak Suka"},[p(l,{icon:["fas","heart-crack"],class:D({"text-danger":s.value.reaksi_ku==="tidak suka"})},null,8,["class"]),a("span",ba,r(s.value.tidak_suka_count),1)]),a("button",{class:"btn p-0 text-secondary",onClick:t[5]||(t[5]=e=>$(null,s.value.id,"mark")),title:"Favorit"},[p(l,{icon:["fas","bookmark"],class:D({"text-danger":s.value.mark})},null,8,["class"])]),p(n,{to:`/${s.value.profil.username}/unggahan/${s.value.id}`,class:"text-secondary text-decoration-none small",title:"Komentar"},{default:f(()=>[p(l,{icon:["fas","comments"]}),a("span",wa,r(s.value.tanggapan_all_count??0),1)]),_:1},8,["to"]),s.value.loading?(i(),c(g,{key:0,class:"position-center"})):m("",!0)])])])]),o.username?m("",!0):(i(),d("div",xa,[a("div",$a,[a("a",Ca,[p(l,{icon:["fas","ellipsis-vertical"],class:"text-secondary"})]),s.value.miliku?(i(),d("ul",Da,[a("li",null,[p(n,{to:{name:"kuisKoreksi",params:{id:s.value.id}},class:"dropdown-item"},{default:f(()=>[...t[15]||(t[15]=[C(" Laporan",-1)])]),_:1},8,["to"])]),a("li",null,[a("a",{href:"#",class:"dropdown-item text-danger",onClick:t[6]||(t[6]=e=>o.unggahanDelete(s.value.id))},"Hapus")])])):m("",!0)])]))])]),a("div",Sa,[a("div",ja,[a("div",za,[a("div",Ba,[P(a("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>h.value.text=e),class:"form-control border-2 rounded-3 p-3",placeholder:"Tulis tanggapan Anda...",rows:"3",style:{resize:"none","border-color":"#e0e0e0"}},null,512),[[G,h.value.text]]),u.value.tanggapan_input?(i(),c(y,{key:0,class:"position-center"})):m("",!0)]),a("div",Fa,[a("button",{type:"button",class:"btn btn-primary px-4 rounded-pill fw-medium",onClick:t[8]||(t[8]=e=>T())}," Kirim ")])]),a("div",Na,[(i(!0),d(J,null,O(B.value,(e,I)=>(i(),d("div",{key:I,class:"comment-item mb-3"},[a("div",Ta,[a("div",qa,[a("div",{class:"profile-picture-container cursor-pointer",onClick:V=>o.redirect(e.profil.username)},[e.profil.image_show?(i(),d("img",{key:0,src:e.profil.image_show,class:"rounded-circle object-fit-cover",width:"40",height:"40",alt:"Profile picture"},null,8,Va)):(i(),d("div",{key:1,class:"rounded-circle d-flex align-items-center justify-content-center",style:F({backgroundColor:e.profil.color,width:"40px",height:"40px",color:"white",fontWeight:"bold"})},r(e.profil.nama_inisial),5))],8,Ia)]),a("div",Aa,[a("div",Ha,[a("div",null,[a("h6",Ka,r(e.profil.nama_lengkap),1),a("small",La,r(e.created_at_for_humans),1)]),a("div",Ra,[a("button",Wa,[p(l,{icon:["fas","fa-ellipsis-v"]})]),a("ul",Ma,[a("li",null,[a("button",{class:"dropdown-item text-danger",onClick:V=>q(e.id)},[...t[16]||(t[16]=[a("i",{class:"fas fa-trash me-2"},null,-1),C("Hapus ",-1)])],8,Ua)])])])]),a("p",Ea,r(e.text||""),1)])])]))),128)),u.value.tanggapan?(i(),c(y,{key:0,class:"position-center"})):m("",!0)])])])])):(i(),d("div",Pa,[a("div",Ga,[a("div",Ja,[u.value.tanggapan?(i(),c(y,{key:0,class:"position-center"})):m("",!0),t[17]||(t[17]=a("div",{class:"position-center"}," Tidak ada data atau sedang diarsipkan ",-1))])])]))])}}}),ot=X(Oa,[["__scopeId","data-v-aa638abc"]]);export{ot as default};
