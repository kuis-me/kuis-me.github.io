import{ce as n,h as i,u as c,cf as f,n as p}from"#entry";const l=n(async(r,u)=>{let t,s;if(r.path.match(/\.(png|jpg|jpeg|gif|svg|ico|css|js|webmanifest)$/i))return;const a=i(),{$axiosAuth:o}=c();try{const{data:e}=([t,s]=f(()=>o.post("/auth")),t=await t,s(),t);if(e?.auth===!0){if(a.set("profil",{data:e?.profil}),r.name!=="home"&&window.innerWidth<=768)return p({name:"home"})}else a.clear("profil")}catch(e){console.error(e.response?.data||e),a.clear("profil")}});export{l as default};
