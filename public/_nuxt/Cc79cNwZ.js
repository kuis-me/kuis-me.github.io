import w from"./DsmCZfJr.js";import{W as S,c,o as p,r as i,s as k,e as X,al as q,v as H,a as t,b as d,d as x,F as B,q as O,x as E,y as $,z,m as P}from"#entry";import{_ as Q}from"./DlAUqK2U.js";const j=["innerHTML"],F={__name:"MathRender",props:{latex:{type:String,required:!0},displayMode:{type:Boolean,default:!1}},setup(v){const m=v,n=S(()=>{try{return w.renderToString(m.latex,{throwOnError:!1,displayMode:m.displayMode})}catch{return'<span style="color:red">Rumus error</span>'}});return(y,_)=>(p(),c("span",{innerHTML:n.value,class:"katex-output"},null,8,j))}},I={class:"resizable-editor border rounded p-2"},N={key:0,class:"position-relative"},Z={class:"mb-3"},A={class:"d-flex flex-wrap gap-2"},D=["onClick"],U={class:"mb-3"},W={class:"input-group"},G={key:1},J={class:"text-secondary small"},K={class:"text-secondary small"},Y={class:"text-secondary small"},ee={__name:"QuillEditor",props:{modelValue:{type:String,default:""},readOnly:{type:Boolean,default:!1},style:{type:Object,required:!1,default:{minHeight:"120px",backgroundColor:"white"}}},emits:["update:modelValue"],setup(v,{emit:m}){const n=v;let y=i(n.style);const _=m,b=i(n.modelValue);k(b,l=>_("update:modelValue",l)),k(()=>n.modelValue,l=>b.value=l);const s=i(""),g=i(null);let a=null;const u=i(!1),h=i("");i(!0);const V=[{id:1,label:"i = \\frac{V}{R}",latex:" i =\\frac{V}{R} "},{id:2,label:"R = \\frac{V}{i}",latex:" R =\\frac{V}{i} "},{id:3,label:"P = V.i",latex:" P = V.i "},{id:4,label:"V = i.R",latex:" V = i.R "},{id:5,label:"\\sqrt{x^2 + y^2}",latex:" \\sqrt{x^2 + y^2} "},{id:6,label:"X_L = 2\\pi f L",latex:"X_L = 2\\pi f L"},{id:7,label:"X_C = \\frac{1}{2\\pi f C}",latex:" X_C = \\frac{1}{2\\pi f C} "},{id:8,label:"Z = R + j(X_L - X_C)",latex:" Z = R + j(X_L - X_C) "}];function C(){if(!a||!s.value)return;const l=a.getSelection(!0);l&&(a.insertEmbed(l.index,"formula",s.value,"user"),a.setSelection(l.index+1),s.value="")}const M=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]];X(()=>{h.value=R(10),a=new q(g.value,{theme:"snow",placeholder:"Tulis kata-kata kamu di sini...",readOnly:n.readOnly,modules:{toolbar:M,formula:!0}}),a.clipboard.dangerouslyPasteHTML(n.modelValue),a.on("text-change",()=>{const l=a.root.innerHTML;_("update:modelValue",l)})}),k(()=>n.modelValue,l=>{a&&a.root.innerHTML!==l&&a.clipboard.dangerouslyPasteHTML(l)});function T(){navigator.clipboard.writeText(b.value)}function L(){navigator.clipboard.readText().then(l=>{b.value=l})}function R(l=10){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let f=0;f<l;f++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}return(l,e)=>{const r=H("font-awesome-icon"),f=F;return p(),c("div",null,[t("div",I,[u.value?(p(),c("div",N,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>u.value=!u.value),class:"btn btn-sm right-top"},[d(r,{icon:["fas","circle-xmark"],class:"text-danger"}),e[4]||(e[4]=x(" Sembunyikan ",-1))]),t("div",Z,[e[5]||(e[5]=t("label",{class:"form-label"},"Rumus:",-1)),t("div",A,[(p(),c(B,null,O(V,o=>t("button",{key:o.id,class:"btn btn-outline-secondary btn-xs",type:"button",onClick:te=>s.value=o.latex},[d(f,{latex:o.latex},null,8,["latex"])],8,D)),64))])]),t("div",U,[t("div",W,[E(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.value=o),type:"text",class:"form-control form-control-sm",placeholder:"Masukkan rumus LaTeX...",id:"rumusInput"},null,512),[[$,s.value]]),t("button",{class:"btn btn-danger btn-sm",onClick:e[2]||(e[2]=o=>s.value="")}," Bersihkan "),t("button",{class:"btn btn-primary",onClick:C}," Masukan ")])])])):(p(),c("div",G,[t("button",{type:"button",onClick:e[3]||(e[3]=o=>u.value=!u.value),class:"btn btn-sm text-dark float-end m-1"},[t("strong",J,[d(r,{icon:["fas","square-root-variable"]}),e[6]||(e[6]=x(" Rumus ",-1))])])])),t("button",{type:"button",class:"btn btn-sm text-dark float-end m-1",onClick:T},[t("strong",K,[d(r,{icon:["fas","copy"]}),e[7]||(e[7]=x(" Salin ",-1))])]),t("button",{type:"button",class:"btn btn-sm text-dark float-end m-1",onClick:L},[t("strong",Y,[d(r,{icon:["fas","paste"]}),e[8]||(e[8]=x(" Tempel ",-1))])]),t("div",{ref_key:"editorContainer",ref:g,style:z(P(y))},null,4)])])}}},oe=Q(ee,[["__scopeId","data-v-6be3a970"]]);export{oe as Q};
